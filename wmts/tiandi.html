<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>DynamicMap</title>



		<link rel="stylesheet" href="http://cityworks.cn/arcgis_js_v320_api/arcgis_js_api/library/3.20/3.20/esri/css/esri.css">


	    <script type="text/javascript">
	        var dojoConfig = {
	            async: false, //是否异步
	            parseOnLoad: true,
	            packages: [{ //解释：require(["js/.."],function(){}) 中  js/ 即为 location的值
		            name: "js", //对应require引用包里的js 
		            location: location.pathname.replace(/\/[^/]*$/, '') + '/js' //对应的路径
		        }]
	        };
	    </script>

		<script src="http://cityworks.cn/arcgis_js_v320_api/arcgis_js_api/library/3.20/3.20/init.js"></script>


	</head>
	
	<script>
		   var map;

			require(["esri/map",
				"../js/TDTLayer",
				"js/TDTAnnoLayer",
				"esri/layers/GraphicsLayer",
                "dojo/domReady!"

			], function (Map, TDTLayer,TDTAnnoLayer,GraphicsLayer) {
		        map = new Map("map", {
		            center: [118.15, 24.55],
		            zoom: 11,
		            logo : false //logo
		        });
		        var baselayer = new TDTLayer();
		        map.addLayer(baselayer);
		        var annolayer = new TDTAnnoLayer();
		        map.addLayer(annolayer);
		   });

	</script>

	
	<body>
		<div id="map" style="width:900px; height:580px; border:1px solid #000;"></div>
	</body>
</html>
