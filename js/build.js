!function(e){var r={};function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="/dist/",t(t.s=80)}([function(e,r,t){"use strict";function n(){return document.querySelector("script[data-esri-loader]")}function a(){return void 0!==window.require&&n()}function i(e,r){if(void 0===r&&(r={}),r.url||(r.url="https://js.arcgis.com/4.3/"),n())e(new Error("The ArcGIS API for JavaScript is already loaded."));else{var t=document.createElement("script");t.type="text/javascript",t.src=r.url,t.dataset.esriLoader="loading",t.onload=function(){t.dataset.esriLoader="loaded";var r=window.require;e&&e(null,r)},document.body.appendChild(t)}}function o(e,r){if(a())window.require(e,r);else{var t=n();if(!t)throw new Error("The ArcGIS API for JavaScript has not been loaded. You must first call esriLoader.bootstrap()");var i=function(){window.require(e,r),t.removeEventListener("load",i,!1)};t.addEventListener("load",i)}}Object.defineProperty(r,"__esModule",{value:!0}),r.isLoaded=a,r.bootstrap=i,r.dojoRequire=o,r.default={isLoaded:a,bootstrap:i,dojoRequire:o}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.baseMapManagerCtrl=void 0;var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0));var a=r.baseMapManagerCtrl={};a.isLoad={},a.mapHash={},a.initExtent={},a.overViewHash={},a.setMapInitExtent=function(e){var r=a.mapHash[e],t=mapConfig.extent;n.dojoRequire(["esri/map","esri/geometry/Extent"],function(e,n){var a=new esri.geometry.Extent(t.xmin,t.ymin,t.xmax,t.ymax,r.spatialReference);r.setExtent(a)})},a.setMapSpatialReference=function(){},a.setExtent=function(e,r){var t=a.mapHash[e];n.dojoRequire(["esri/map","esri/geometry/Extent"],function(e,n){var a=new esri.geometry.Extent(r.xmin,r.ymin,r.xmax,r.ymax,t.spatialReference);t.setExtent(a)})},a.showOverView=function(e,r){var t=a.overViewHash[e];r?t.show():t.hide()},a.setFunCall=function(e){setTimeout(function(){a.isLoad[mapConfig.mapId]?e():a.setFunCall(e)},500)}},function(e,r){var t=e.exports={version:"2.5.6"};"number"==typeof __e&&(__e=t)},function(e,r){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e,r,t){var n=t(47)("wks"),a=t(35),i=t(3).Symbol,o="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=o&&i[e]||(o?i:a)("Symbol."+e))}).store=n},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.eventBus=void 0;var n,a=t(81),i=(n=a)&&n.__esModule?n:{default:n};var o=r.eventBus={};o.bus=new i.default,o.LENGTH="LENGTH",o.AREA="AREA",o.COORD="COORD",o.MOUSE_CLICK_QUERY="MOUSE_CLICK_QUERY",o.MAP_EXTENT_CHANGE="MAP_EXTENT_CHANGE",o.CONFIG_LOAD="CONFIG_LOAD",o.PRINT_RESULT="PRINT_RESULT",o.TWO_TRANSFORM="TWO_TRANSFORM",o.SPLIT_SCREEN="SPLIT_SCREEN",o.LAYER_VISIBLE_CHANGE="LAYER_VISIBLE_CHANGE",o.LAYER_TIMER_ADD="LAYER_TIMER_ADD",o.MAP_IS_LOAD="MAP_IS_LOAD"},function(e,r,t){var n=t(3),a=t(2),i=t(13),o=t(14),l=t(17),s=function(e,r,t){var u,c,f,y=e&s.F,d=e&s.G,v=e&s.S,p=e&s.P,g=e&s.B,m=e&s.W,h=d?a:a[r]||(a[r]={}),L=h.prototype,w=d?n:v?n[r]:(n[r]||{}).prototype;for(u in d&&(t=r),t)(c=!y&&w&&void 0!==w[u])&&l(h,u)||(f=c?w[u]:t[u],h[u]=d&&"function"!=typeof w[u]?t[u]:g&&c?i(f,n):m&&w[u]==f?function(e){var r=function(r,t,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,t)}return new e(r,t,n)}return e.apply(this,arguments)};return r.prototype=e.prototype,r}(f):p&&"function"==typeof f?i(Function.call,f):f,p&&((h.virtual||(h.virtual={}))[u]=f,e&s.R&&L&&!L[u]&&o(L,u,f)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.layerManager=void 0;var n=y(t(16)),a=y(t(90)),i=y(t(9)),o=y(t(101)),l=t(23),s=t(1),u=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0)),c=t(27),f=t(5);function y(e){return e&&e.__esModule?e:{default:e}}var d=r.layerManager={};function v(e,r,t){for(var n=e.layerIds,a=n.length-1;a>=0;a--){var i=e.getLayer(n[a]),o=0;if(void 0!=i.priority&&(o=i.priority),"GraphicsLayer"!=p(i)&&"FeatureLayer"!=p(i)&&Number(t)>=o)return r.priority=t,void e.addLayer(r,a+1)}r.priority=t,e.addLayer(r,n.length)}function p(e){return(0,a.default)(e)==esri.layers.ArcGISTiledMapServiceLayer.prototype?c.layerTypeEnum.ArcGISTiledMapServiceLayer:(0,a.default)(e)==esri.layers.ArcGISDynamicMapServiceLayer.prototype?c.layerTypeEnum.ArcGISDynamicMapServiceLayer:(0,a.default)(e)==esri.layers.ArcGISImageServiceLayer.prototype?c.layerTypeEnum.ArcGISImageServiceLayer:(0,a.default)(e)==esri.layers.FeatureLayer.prototype?c.layerTypeEnum.FeatureLayer:(0,a.default)(e)==esri.layers.GraphicsLayer.prototype?c.layerTypeEnum.GraphicsLayer:void 0}function g(e){var r=new Array,t=e.visibleLayers,n=!0,a=!1,o=void 0;try{for(var s,u=(0,i.default)(t);!(n=(s=u.next()).done);n=!0){var c=s.value;if(-1!=c){var f=l.configManagerCtrl.getLayerConfigByUrlAndId(e.url,c);r.push(f)}}}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}d.graphicLayers={},d.showLayerByName=function(e,r,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=new o.default;r.forEach(function(e){var r=l.configManagerCtrl.getLayerConfigByName(e);if(a.has(r.MAPSERVICES)){a.get(r.MAPSERVICES).push(r)}else{var t=new Array;t.push(r),a.set(r.MAPSERVICES,t)}});var y=s.baseMapManagerCtrl.mapHash[e];u.dojoRequire(["esri/map","esri/layers/ArcGISDynamicMapServiceLayer","esri/layers/ArcGISTiledMapServiceLayer","esri/layers/FeatureLayer"],function(e,r,o,l){var s=!0,u=!1,p=void 0;try{for(var g,m=function(){var e=g.value,r=a.get(e),i=[];r.forEach(function(e){void 0!=e.LAYERID&&i.push(e.LAYERID)});var o=5;r.length>0&&(o=r[0].getLayerPriority()),""==n&&(n=r[0].LAYER_TYPE);var l=d.getAgsLayerFromMapWithUrl(y,e,n);n==c.layerTypeEnum.ArcGISDynamicMapServiceLayer?t?function(e,r,t,n,a){var i=[];if(null==r){var o=new esri.layers.ArcGISDynamicMapServiceLayer(n);i=t,o.setVisibleLayers(i),v(e,o,a)}else i=r.visibleLayers,t.forEach(function(e){i.includes(e)||i.push(e)}),r.setVisibleLayers(i),r.setVisibility(!0)}(y,l,i,e,o):function(e,r){if(null!=e){var t=e.visibleLayers.slice();r.forEach(function(e){t.forEach(function(r,n){r==e&&t.splice(n,1)})}),0==t.length&&t.push(-1),e.setVisibleLayers(t)}}(l,i):n==c.layerTypeEnum.ArcGISTiledMapServiceLayer?t?function(e,r,t,n){if(null==r){var a=new esri.layers.ArcGISTiledMapServiceLayer(t);v(e,a,n)}else r.setVisibility(!0)}(y,l,e,o):function(e){null!=e&&e.setVisibility(!1)}(l):n==c.layerTypeEnum.ArcGISImageServiceLayer&&(t?function(e,r,t,n){if(null==r){var a=new esri.layers.ArcGISImageServiceLayer(t);v(e,a,n)}else r.setVisibility(!0)}(y,l,e,o):function(e){null!=e&&e.setVisibility(!1)}(l)),f.eventBus.bus.emit(f.eventBus.LAYER_VISIBLE_CHANGE,r,n,t)},h=(0,i.default)(a.keys());!(s=(g=h.next()).done);s=!0)m()}catch(e){u=!0,p=e}finally{try{!s&&h.return&&h.return()}finally{if(u)throw p}}})},d.getAgsLayerFromMapWithUrl=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=null,a=e.layerIds,o=!0,l=!1,s=void 0;try{for(var u,c=(0,i.default)(a);!(o=(u=c.next()).done);o=!0){var f=u.value,y=e.getLayer(f);""==t?y.url==r&&(n=y):p(y)==t&&y.url==r&&(n=y)}}catch(e){l=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(l)throw s}}return n},d.getLayerByLegend=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=[],n=e.layerIds,a=!0,o=!1,l=void 0;try{for(var s,u=(0,i.default)(n);!(a=(s=u.next()).done);a=!0){var c=s.value,f=e.getLayer(c);p(f)==r&&void 0!=f.priority&&Number(f.priority)>=5&&t.push(f)}}catch(e){o=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw l}}return t},d.getAgsLayerIndexFromMapWithUrl=function(e,r){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=null,a=null,i=e.layerIds,o=0;o<i.length;o++){var l=e.getLayer(i[o]);""==t?l.url==r&&(n=l,a=o):p(l)==t&&l.url==r&&(n=l,a=o)}return{agsLyr:n,index:a}},d.setGraphicLayer=function(e,r){s.baseMapManagerCtrl.mapHash[e];var t=null;return u.dojoRequire(["esri/map","esri/layers/GraphicsLayer"],function(n,a){var o=s.baseMapManagerCtrl.mapHash[e];if(null!=o)if(null==d.graphicLayers[r])t=new esri.layers.GraphicsLayer,s.baseMapManagerCtrl.mapHash[e].addLayer(t),t.graID=r,d.graphicLayers[r]=t;else{var l=o.graphicsLayerIds,u=!1,c=!0,f=!1,y=void 0;try{for(var v,p=(0,i.default)(l);!(c=(v=p.next()).done);c=!0){var g=v.value;if(o.getLayer(g).graID==r){u=!0;break}}}catch(e){f=!0,y=e}finally{try{!c&&p.return&&p.return()}finally{if(f)throw y}}0==u&&(t=new esri.layers.GraphicsLayer,s.baseMapManagerCtrl.mapHash[e].addLayer(t),t.graID=r,d.graphicLayers[r]=t),t=d.graphicLayers[r]}}),t},d.clearAllGraphicLayer=function(){var e=!0,r=!1,t=void 0;try{for(var a,o=(0,i.default)((0,n.default)(d.graphicLayers));!(e=(a=o.next()).done);e=!0){var l=a.value;if(d.graphicLayers[l])d.graphicLayers[l].clear()}}catch(e){r=!0,t=e}finally{try{!e&&o.return&&o.return()}finally{if(r)throw t}}},d.setLayerOpacity=function(e,r,t){var n=s.baseMapManagerCtrl.mapHash[e],a=l.configManagerCtrl.getLayerConfigByName(r);d.getAgsLayerFromMapWithUrl(n,a.MAPSERVICES).setOpacity(t)},d.getQueryLayerByType=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=new Array;return"visible"==r?n=d.getVisibleLayer(e):"top"==r?n=function(e){var r=new Array,t=s.baseMapManagerCtrl.mapHash[e],n=t.layerIds,a=!0,o=!1,l=void 0;try{for(var u,f=(0,i.default)(n);!(a=(u=f.next()).done);a=!0){var y=u.value,d=t.getLayer(y);if(p(d)==c.layerTypeEnum.ArcGISDynamicMapServiceLayer&&1==d.visible){var v=g(d);r=r.concat(v);break}}}catch(e){o=!0,l=e}finally{try{!a&&f.return&&f.return()}finally{if(o)throw l}}return r}(e):"special"==r&&(n=function(e,r){var t=new Array,n=!0,a=!1,o=void 0;try{for(var s,u=(0,i.default)(r);!(n=(s=u.next()).done);n=!0){var c=s.value,f=l.configManagerCtrl.getLayerConfigByName(c);t.push(f)}}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return t}(0,t)),n},d.getVisibleLayer=function(e){var r=new Array,t=s.baseMapManagerCtrl.mapHash[e],n=t.layerIds,a=!0,o=!1,l=void 0;try{for(var u,f=(0,i.default)(n);!(a=(u=f.next()).done);a=!0){var y=u.value,d=t.getLayer(y);if(p(d)==c.layerTypeEnum.ArcGISDynamicMapServiceLayer&&1==d.visible){var v=g(d);r=r.concat(v)}}}catch(e){o=!0,l=e}finally{try{!a&&f.return&&f.return()}finally{if(o)throw l}}return r},d.hideAllLayer=function(e){for(var r=s.baseMapManagerCtrl.mapHash[e],t=r.layerIds,n=0;n<t.length;n++){var a=r.getLayer(t[n]);if(void 0!=a.priority&&a.priority>0)if(p(a)==c.layerTypeEnum.ArcGISDynamicMapServiceLayer){var i=a.visibleLayers.slice();i=[-1],a.setVisibleLayers(i)}else p(a)==c.layerTypeEnum.ArcGISTiledMapServiceLayer?a.setVisibility(!1):p(a)==c.layerTypeEnum.ArcGISImageServiceLayer&&a.setVisibility(!1)}}},function(e,r){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,r,t){e.exports={default:t(93),__esModule:!0}},function(e,r,t){var n=t(11),a=t(88),i=t(89),o=Object.defineProperty;r.f=t(12)?Object.defineProperty:function(e,r,t){if(n(e),r=i(r,!0),n(t),a)try{return o(e,r,t)}catch(e){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(e[r]=t.value),e}},function(e,r,t){var n=t(8);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,r,t){e.exports=!t(20)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,r,t){var n=t(19);e.exports=function(e,r,t){if(n(e),void 0===r)return e;switch(t){case 1:return function(t){return e.call(r,t)};case 2:return function(t,n){return e.call(r,t,n)};case 3:return function(t,n,a){return e.call(r,t,n,a)}}return function(){return e.apply(r,arguments)}}},function(e,r,t){var n=t(10),a=t(50);e.exports=t(12)?function(e,r,t){return n.f(e,r,a(1,t))}:function(e,r,t){return e[r]=t,e}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.drawManagerCtrl=void 0;var n=t(7),a=t(1),i=t(28),o=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0)),l=t(5);var s=r.drawManagerCtrl={get drawStart(){return this._drawStart},set drawStart(e){this._drawStart=e}};function u(e){var r=n.layerManager.setGraphicLayer(s.drawMapId,s.drawName);s.isClearLayer&&r.clear(),s.toolbar[s.drawMapId].deactivate(),s.drawGraphic=e.geometry;var t=void 0;switch(e.geometry.type){case"point":case"polyline":default:t=i.symbolTool.getDrawSymbol(e.geometry.type)}var o=new esri.Graphic(e.geometry);s.setSymbol?o.setSymbol(s.setSymbol):o.setSymbol(t);a.baseMapManagerCtrl.mapHash[s.drawMapId];r.add(o),s.drawStart="off",l.eventBus.bus.emitEvent("draw-"+s.drawName,[50])}s.toolbar={},s.setSymbol=null,s.isClearLayer=!0,s.drawGraphic={},s.drawName="draw",s.drawMapId="",s._drawStart="on",s.init=function(e){o.dojoRequire(["esri/map","esri/toolbars/draw"],function(r,t){var n=a.baseMapManagerCtrl.mapHash[e];s.toolbar[e]=new esri.toolbars.Draw(n),s.toolbar[e].on("draw-end",u)})},s.activeTool=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"draw",n=arguments[3];s.drawName=t,s.drawMapId=e,s.drawStart="on",o.dojoRequire(["esri/map","esri/toolbars/draw"],function(t,a){s.setSymbol=null!=n?n:null,s.toolbar[e].activate(esri.toolbars.Draw[r])})}},function(e,r,t){e.exports={default:t(83),__esModule:!0}},function(e,r){var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},function(e,r){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e,r){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,r){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,r){e.exports={}},function(e,r,t){var n=t(13),a=t(105),i=t(106),o=t(11),l=t(31),s=t(55),u={},c={};(r=e.exports=function(e,r,t,f,y){var d,v,p,g,m=y?function(){return e}:s(e),h=n(t,f,r?2:1),L=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(i(m)){for(d=l(e.length);d>L;L++)if((g=r?h(o(v=e[L])[0],v[1]):h(e[L]))===u||g===c)return g}else for(p=m.call(e);!(v=p.next()).done;)if((g=a(p,h,v.value,r))===u||g===c)return g}).BREAK=u,r.RETURN=c},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.configManagerCtrl=void 0;var n,a=t(9),i=(n=a)&&n.__esModule?n:{default:n};var o=r.configManagerCtrl={};o.configArr=new Array,o.getLayerConfigByUrlAndId=function(e,r){var t=null,n=!0,a=!1,l=void 0;try{for(var s,u=(0,i.default)(o.configArr);!(n=(s=u.next()).done);n=!0){var c=s.value;if(c.MAPSERVICES==e&&c.LAYERID==r){t=c;break}}}catch(e){a=!0,l=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw l}}return t},o.getLayerConfigByName=function(e){var r=null,t=!0,n=!1,a=void 0;try{for(var l,s=(0,i.default)(o.configArr);!(t=(l=s.next()).done);t=!0){var u=l.value;if(u.DISPLAYLAYERNAME==e){r=u;break}}}catch(e){n=!0,a=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw a}}return r},o.getLayerConfigByMapServiceUrl=function(e){var r=null,t=!0,n=!1,a=void 0;try{for(var l,s=(0,i.default)(o.configArr);!(t=(l=s.next()).done);t=!0){var u=l.value;if(u.MAPSERVICES==e){r=u;break}}}catch(e){n=!0,a=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw a}}return r},o.getLayerConfigByServiceUrl=function(e){var r=null,t=!0,n=!1,a=void 0;try{for(var l,s=(0,i.default)(o.configArr);!(t=(l=s.next()).done);t=!0){var u=l.value;if(u.SERVICES_ADDR==e){r=u;break}}}catch(e){n=!0,a=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw a}}return r},o.getLayerConfigByMapServeces=function(e){var r=[],t=!0,n=!1,a=void 0;try{for(var l,s=(0,i.default)(o.configArr);!(t=(l=s.next()).done);t=!0){var u=l.value;u.MAPSERVICES==e&&r.push(u)}}catch(e){n=!0,a=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw a}}return r}},function(e,r,t){var n=t(29);e.exports=function(e){return Object(n(e))}},function(e,r,t){var n=t(46),a=t(29);e.exports=function(e){return n(a(e))}},function(e,r,t){var n=t(10).f,a=t(17),i=t(4)("toStringTag");e.exports=function(e,r,t){e&&!a(e=t?e:e.prototype,i)&&n(e,i,{configurable:!0,value:r})}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=r.layerTypeEnum={};n.ArcGISDynamicMapServiceLayer="ArcGISDynamicMapServiceLayer",n.ArcGISTiledMapServiceLayer="ArcGISTiledMapServiceLayer",n.ArcGISImageServiceLayer="ArcGISImageServiceLayer",n.FeatureLayer="FeatureLayer",n.GraphicsLayer="GraphicsLayer"},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.symbolTool=void 0;var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0));var a=r.symbolTool={};a.getSymbol=function(e){var r=null;return n.dojoRequire(["esri/map","esri/symbols/SimpleFillSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleMarkerSymbol","esri/symbols/PictureMarkerSymbol","esri/symbols/CartographicLineSymbol","esri/Color"],function(t,n,a,i,o,l,s){"polygon"==e?r=new esri.symbol.SimpleFillSymbol(n.STYLE_SOLID,new esri.symbol.SimpleLineSymbol(a.STYLE_DASHDOT,new esri.Color([255,0,0]),2),new s([255,255,0,.8])):"gridPolygon"==e?r=new esri.symbol.SimpleLineSymbol(a.STYLE_SOLID,new esri.Color([209,132,164]),5):"polyline"==e?r=new esri.symbol.SimpleLineSymbol(a.STYLE_DASH,new esri.Color([255,0,0]),3):"point"==e&&(r=new esri.symbol.SimpleMarkerSymbol(i.STYLE_SQUARE,10,new esri.symbol.SimpleLineSymbol(a.STYLE_SOLID,new esri.Color([255,0,0]),1),new esri.Color([0,255,0,.25])))}),r},a.getDrawSymbol=function(e){var r=null;return n.dojoRequire(["esri/map","esri/symbols/SimpleFillSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleMarkerSymbol","esri/symbols/PictureMarkerSymbol","esri/symbols/CartographicLineSymbol","esri/Color"],function(t,n,a,i,o,l,s){r="polyline"==e?new esri.symbol.SimpleLineSymbol:"point"==e?new esri.symbol.SimpleMarkerSymbol:new esri.symbol.SimpleFillSymbol}),r},a.getBuffSymbol=function(){var e=null;return n.dojoRequire(["esri/map","esri/symbols/SimpleFillSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleMarkerSymbol","esri/symbols/PictureMarkerSymbol","esri/symbols/CartographicLineSymbol","esri/Color"],function(r,t,n,a,i,o,l){e=new esri.symbol.SimpleFillSymbol(t.STYLE_SOLID,new esri.symbol.SimpleLineSymbol(n.STYLE_SOLID,new esri.Color([255,0,0,.65]),2),new esri.Color([255,0,0,.35]))}),e}},function(e,r){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,r,t){var n=t(85),a=t(48);e.exports=Object.keys||function(e){return n(e,a)}},function(e,r,t){var n=t(32),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},function(e,r){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},function(e,r,t){var n=t(47)("keys"),a=t(35);e.exports=function(e){return n[e]||(n[e]=a(e))}},function(e,r){e.exports=!0},function(e,r){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},function(e,r,t){var n=t(8),a=t(3).document,i=n(a)&&n(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},function(e,r,t){t(94);for(var n=t(3),a=t(14),i=t(21),o=t(4)("toStringTag"),l="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<l.length;s++){var u=l[s],c=n[u],f=c&&c.prototype;f&&!f[o]&&a(f,o,u),i[u]=i.Array}},function(e,r,t){"use strict";var n=t(34),a=t(6),i=t(96),o=t(14),l=t(21),s=t(97),u=t(26),c=t(51),f=t(4)("iterator"),y=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,r,t,v,p,g,m){s(t,r,v);var h,L,w,_=function(e){if(!y&&e in b)return b[e];switch(e){case"keys":case"values":return function(){return new t(this,e)}}return function(){return new t(this,e)}},M=r+" Iterator",S="values"==p,E=!1,b=e.prototype,T=b[f]||b["@@iterator"]||p&&b[p],I=T||_(p),x=p?S?_("entries"):I:void 0,R="Array"==r&&b.entries||T;if(R&&(w=c(R.call(new e)))!==Object.prototype&&w.next&&(u(w,M,!0),n||"function"==typeof w[f]||o(w,f,d)),S&&T&&"values"!==T.name&&(E=!0,I=function(){return T.call(this)}),n&&!m||!y&&!E&&b[f]||o(b,f,I),l[r]=I,l[M]=d,p)if(h={values:S?I:_("values"),keys:g?I:_("keys"),entries:x},m)for(L in h)L in b||i(b,L,h[L]);else a(a.P+a.F*(y||E),r,h);return h}},function(e,r,t){"use strict";var n=t(99)(!0);t(38)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,r=this._t,t=this._i;return t>=r.length?{value:void 0,done:!0}:(e=n(r,t),this._i+=e.length,{value:e,done:!1})})},function(e,r,t){var n=t(18),a=t(4)("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(e){var r,t,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,r){try{return e[r]}catch(e){}}(r=Object(e),a))?t:i?n(r):"Object"==(o=n(r))&&"function"==typeof r.callee?"Arguments":o}},function(e,r,t){var n=t(14);e.exports=function(e,r,t){for(var a in r)t&&e[a]?e[a]=r[a]:n(e,a,r[a]);return e}},function(e,r){e.exports=function(e,r,t,n){if(!(e instanceof r)||void 0!==n&&n in e)throw TypeError(t+": incorrect invocation!");return e}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.gpService=void 0;var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0));var a=r.gpService={};a.geometryService=null,a.getGeometryService=function(){var e=null;return n.dojoRequire(["esri/map","esri/tasks/GeometryService"],function(r,t){null==a.geometryService&&(a.geometryService=new esri.tasks.GeometryService(layerConfig.geometeryServiceUrl)),e=a.geometryService}),e}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.cityWorkLinkageCtrl=void 0;var n=l(t(16)),a=l(t(9)),i=t(1),o=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0));function l(e){return e&&e.__esModule?e:{default:e}}var s=r.cityWorkLinkageCtrl={};function u(e,r){return Math.abs(e.xmin-r.xmin)<.1&&Math.abs(e.xmax-r.xmax)<.1&&Math.abs(e.ymin-r.ymin)<.1&&Math.abs(e.ymax-r.ymax)<.1}function c(e,r,t){o.dojoRequire(["esri/map","esri/geometry/Extent"],function(n,a){if(!u(r,e.extent)){if(!isNaN(r.xmin)){var i=new esri.geometry.Extent(r.xmin,r.ymin,r.xmax,r.ymax,e.spatialReference);e.setExtent(i),s.two_coordinate[t]=i}s.is23DMove}})}s.is3DMove=!0,s.is2DMove=!0,s.is23DMove=!1,s.changeMapId="",s.two_coordinate={},s.three_coordinate={},s.switch23Flag=!1,s.getTwoExtent=function(e){return i.baseMapManagerCtrl.mapHash[e].extent},s.set23DMove=function(e){s.is23DMove=e},s.addThreeExtent=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(""==r){var t=(0,n.default)(i.baseMapManagerCtrl.mapHash);t.length>0&&(r=t[0])}s.changeMapId=r;var a=i.baseMapManagerCtrl.mapHash;s.is3DMove&&(s.three_coordinate[r]=e,function(e,r,t){c(e[r],t,r)}(a,r,e))},s.setIs3DMove=function(e){s.is3DMove=!0},s.addTwoCoordinate=function(e,r,t,i){1==s.is2DMove&&(s.two_coordinate[e]=r,function(e,r,t){if(0!=t.length){var i=[],o=[];if(s.is2DMove){var l=!0,f=!1,y=void 0;try{for(var d,v=(0,a.default)((0,n.default)(s.two_coordinate));!(l=(d=v.next()).done);l=!0){var p=d.value,g=s.two_coordinate[p],m=e[p];t.includes(p)&&(i.push(g),o.push(m))}}catch(e){f=!0,y=e}finally{try{!l&&v.return&&v.return()}finally{if(f)throw y}}var h=s.two_coordinate[r];setTimeout(function(){for(var e=0;e<i.length;e++){var t=i[e];if(r==s.changeMapId&&!u(h,t)){if(void 0==o[e])return;c(o[e],h,o[e].id)}}},1e3)}}}(t,e,i))}},function(e,r,t){"use strict";var n=t(19);e.exports.f=function(e){return new function(e){var r,t;this.promise=new e(function(e,n){if(void 0!==r||void 0!==t)throw TypeError("Bad Promise constructor");r=e,t=n}),this.resolve=n(r),this.reject=n(t)}(e)}},function(e,r,t){var n=t(18);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,r,t){var n=t(2),a=t(3),i=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(e.exports=function(e,r){return i[e]||(i[e]=void 0!==r?r:{})})("versions",[]).push({version:n.version,mode:t(34)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,r){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,r,t){var n=t(6),a=t(2),i=t(20);e.exports=function(e,r){var t=(a.Object||{})[e]||Object[e],o={};o[e]=r(t),n(n.S+n.F*i(function(){t(1)}),"Object",o)}},function(e,r){e.exports=function(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}}},function(e,r,t){var n=t(17),a=t(24),i=t(33)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,r){e.exports=function(e,r){return{value:r,done:!!e}}},function(e,r,t){var n=t(11),a=t(98),i=t(48),o=t(33)("IE_PROTO"),l=function(){},s=function(){var e,r=t(36)("iframe"),n=i.length;for(r.style.display="none",t(54).appendChild(r),r.src="javascript:",(e=r.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;n--;)delete s.prototype[i[n]];return s()};e.exports=Object.create||function(e,r){var t;return null!==e?(l.prototype=n(e),t=new l,l.prototype=null,t[o]=e):t=s(),void 0===r?t:a(t,r)}},function(e,r,t){var n=t(3).document;e.exports=n&&n.documentElement},function(e,r,t){var n=t(40),a=t(4)("iterator"),i=t(21);e.exports=t(2).getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[n(e)]}},function(e,r){},function(e,r,t){"use strict";var n=t(3),a=t(2),i=t(10),o=t(12),l=t(4)("species");e.exports=function(e){var r="function"==typeof a[e]?a[e]:n[e];o&&r&&!r[l]&&i.f(r,l,{configurable:!0,get:function(){return this}})}},function(e,r,t){var n=t(35)("meta"),a=t(8),i=t(17),o=t(10).f,l=0,s=Object.isExtensible||function(){return!0},u=!t(20)(function(){return s(Object.preventExtensions({}))}),c=function(e){o(e,n,{value:{i:"O"+ ++l,w:{}}})},f=e.exports={KEY:n,NEED:!1,fastKey:function(e,r){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!s(e))return"F";if(!r)return"E";c(e)}return e[n].i},getWeak:function(e,r){if(!i(e,n)){if(!s(e))return!0;if(!r)return!1;c(e)}return e[n].w},onFreeze:function(e){return u&&f.NEED&&s(e)&&!i(e,n)&&c(e),e}}},function(e,r,t){var n=t(8);e.exports=function(e,r){if(!n(e)||e._t!==r)throw TypeError("Incompatible receiver, "+r+" required!");return e}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=o(t(9)),a=o(t(61)),i=o(t(121));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(r){(0,a.default)(this,e),this.SERVICES_ADDR=r.SERVICES_ADDR,this.DISPLAYLAYERNAME=r.DISPLAYLAYERNAME,this.LAYERID=r.LAYERID,this.MAPSERVICES=r.MAPSERVICES,this.LAYER_TYPE=r.LAYER_TYPE,this.SELDEFINE=r.SELDEFINE.PROPERTY,this.MOUSEMOVE_FIELD=r.MOUSEMOVE_FIELD.FIELD}return(0,i.default)(e,[{key:"getLayerPriority",value:function(){if(void 0!=this.SELDEFINE){var e=!0,r=!1,t=void 0;try{for(var a,i=(0,n.default)(this.SELDEFINE);!(e=(a=i.next()).done);e=!0){var o=a.value;if("priority"==o.PROPER_KEY)return o.PROPER_VALUE}}catch(e){r=!0,t=e}finally{try{!e&&i.return&&i.return()}finally{if(r)throw t}}}}},{key:"getLayerQueryFlag",value:function(){if(void 0!=this.SELDEFINE){var e=!0,r=!1,t=void 0;try{for(var a,i=(0,n.default)(this.SELDEFINE);!(e=(a=i.next()).done);e=!0){var o=a.value;if("queryFlag"==o.PROPER_KEY)return o.PROPER_VALUE}}catch(e){r=!0,t=e}finally{try{!e&&i.return&&i.return()}finally{if(r)throw t}}}}},{key:"getLayerQueryName",value:function(){if(void 0!=this.SELDEFINE){var e=!0,r=!1,t=void 0;try{for(var a,i=(0,n.default)(this.SELDEFINE);!(e=(a=i.next()).done);e=!0){var o=a.value;if("queryShow"==o.PROPER_KEY)return o.PROPER_VALUE}}catch(e){r=!0,t=e}finally{try{!e&&i.return&&i.return()}finally{if(r)throw t}}}}},{key:"getLayerLocateId",value:function(){if(void 0!=this.SELDEFINE){var e=!0,r=!1,t=void 0;try{for(var a,i=(0,n.default)(this.SELDEFINE);!(e=(a=i.next()).done);e=!0){var o=a.value;if("locateId"==o.PROPER_KEY)return o.PROPER_VALUE}}catch(e){r=!0,t=e}finally{try{!e&&i.return&&i.return()}finally{if(r)throw t}}}}}]),e}();r.default=l},function(e,r,t){"use strict";r.__esModule=!0,r.default=function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}},function(e,r,t){var n=t(11),a=t(19),i=t(4)("species");e.exports=function(e,r){var t,o=n(e).constructor;return void 0===o||void 0==(t=n(o)[i])?r:a(t)}},function(e,r,t){var n,a,i,o=t(13),l=t(135),s=t(54),u=t(36),c=t(3),f=c.process,y=c.setImmediate,d=c.clearImmediate,v=c.MessageChannel,p=c.Dispatch,g=0,m={},h=function(){var e=+this;if(m.hasOwnProperty(e)){var r=m[e];delete m[e],r()}},L=function(e){h.call(e.data)};y&&d||(y=function(e){for(var r=[],t=1;arguments.length>t;)r.push(arguments[t++]);return m[++g]=function(){l("function"==typeof e?e:Function(e),r)},n(g),g},d=function(e){delete m[e]},"process"==t(18)(f)?n=function(e){f.nextTick(o(h,e,1))}:p&&p.now?n=function(e){p.now(o(h,e,1))}:v?(i=(a=new v).port2,a.port1.onmessage=L,n=o(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",L,!1)):n="onreadystatechange"in u("script")?function(e){s.appendChild(u("script")).onreadystatechange=function(){s.removeChild(this),h.call(e)}}:function(e){setTimeout(o(h,e,1),0)}),e.exports={set:y,clear:d}},function(e,r){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,r,t){var n=t(11),a=t(8),i=t(45);e.exports=function(e,r){if(n(e),a(r)&&r.constructor===e)return r;var t=i.f(e);return(0,t.resolve)(r),t.promise}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.gaodeTool=void 0;var n=t(67),a=t(68),i=t(69),o=t(70),l=r.gaodeTool={};l.layerType=o.gaodeType,l.addLayer=function(e,r){e==o.gaodeType.gaodeLayer?a.gaodeLayer.create(r):e==o.gaodeType.gaodeImageLayer?n.gaodeImageLayer.create(r):e==o.gaodeType.gaodeAnnoLayer&&i.gaodeAnnoLayer.create(r)}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.gaodeImageLayer=void 0;var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0));(r.gaodeImageLayer={}).create=function(e){n.dojoRequire(["dojo/_base/declare","esri/geometry/Extent","esri/SpatialReference","esri/geometry/Point","esri/layers/TileInfo","esri/layers/TiledMapServiceLayer"],function(r,t,n,a,i,o){r("GaoDeImageLayer",o,{name:"GaoDeImageLayer",constructor:function(e){this.spatialReference=new n({wkid:3857}),this.fullExtent=new t(-20037508.342787,-20037508.342787,20037508.342787,20037508.342787,this.spatialReference),this.initialExtent=this.fullExtent,this.tileInfo=new i({cols:256,rows:256,compressionQuality:0,origin:new a(-20037508.342787,20037508.342787,this.spatialReference),spatialReference:this.spatialReference,lods:[{level:0,resolution:156543.033928,scale:591657527.591555},{level:1,resolution:78271.5169639999,scale:295828763.795777},{level:2,resolution:39135.7584820001,scale:147914381.897889},{level:3,resolution:19567.8792409999,scale:73957190.948944},{level:4,resolution:9783.93962049996,scale:36978595.474472},{level:5,resolution:4891.96981024998,scale:18489297.737236},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.99245256249,scale:4622324.434309},{level:8,resolution:611.49622628138,scale:2311162.217155},{level:9,resolution:305.748113140558,scale:1155581.108577},{level:10,resolution:152.874056570411,scale:577790.554289},{level:11,resolution:76.4370282850732,scale:288895.277144},{level:12,resolution:38.2185141425366,scale:144447.638572},{level:13,resolution:19.1092570712683,scale:72223.819286},{level:14,resolution:9.55462853563415,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.38865713397468,scale:9027.977411},{level:17,resolution:1.19432856685505,scale:4513.988705},{level:18,resolution:.597164283559817,scale:2256.994353},{level:19,resolution:.298582141647617,scale:1128.497176}]}),this.loaded=!0,this.onLoad(this)},getTileUrl:function(e,r,t){return"http://webst0"+(t%4+1)+".is.autonavi.com/appmaptile?style=6&x="+t+"&y="+r+"&z="+e}}),function(e){var r=new GaoDeImageLayer;e.addLayer(r)}(e)})}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.gaodeLayer=void 0;var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0));(r.gaodeLayer={}).create=function(e){n.dojoRequire(["dojo/_base/declare","esri/geometry/Extent","esri/SpatialReference","esri/geometry/Point","esri/layers/TileInfo","esri/layers/TiledMapServiceLayer"],function(r,t,n,a,i,o){r("GaoDeLayer",o,{name:"GaoDeLayer",constructor:function(e){this.spatialReference=new n({wkid:3857}),this.fullExtent=new t(-20037508.342787,-20037508.342787,20037508.342787,20037508.342787,this.spatialReference),this.initialExtent=this.fullExtent,this.tileInfo=new i({cols:256,rows:256,compressionQuality:0,origin:new a(-20037508.342787,20037508.342787,this.spatialReference),spatialReference:this.spatialReference,lods:[{level:0,resolution:156543.033928,scale:591657527.591555},{level:1,resolution:78271.5169639999,scale:295828763.795777},{level:2,resolution:39135.7584820001,scale:147914381.897889},{level:3,resolution:19567.8792409999,scale:73957190.948944},{level:4,resolution:9783.93962049996,scale:36978595.474472},{level:5,resolution:4891.96981024998,scale:18489297.737236},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.99245256249,scale:4622324.434309},{level:8,resolution:611.49622628138,scale:2311162.217155},{level:9,resolution:305.748113140558,scale:1155581.108577},{level:10,resolution:152.874056570411,scale:577790.554289},{level:11,resolution:76.4370282850732,scale:288895.277144},{level:12,resolution:38.2185141425366,scale:144447.638572},{level:13,resolution:19.1092570712683,scale:72223.819286},{level:14,resolution:9.55462853563415,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.38865713397468,scale:9027.977411},{level:17,resolution:1.19432856685505,scale:4513.988705},{level:18,resolution:.597164283559817,scale:2256.994353}]}),this.loaded=!0,this.onLoad(this)},getTileUrl:function(e,r,t){return"http://webrd0"+(t%4+1)+".is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x="+t+"&y="+r+"&z="+e}}),function(e){var r=new GaoDeLayer;e.addLayer(r)}(e)})}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.gaodeAnnoLayer=void 0;var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0));(r.gaodeAnnoLayer={}).create=function(e){n.dojoRequire(["dojo/_base/declare","esri/geometry/Extent","esri/SpatialReference","esri/geometry/Point","esri/layers/TileInfo","esri/layers/TiledMapServiceLayer"],function(r,t,n,a,i,o){r("GaoDeAnnoLayer",o,{name:"GaoDeAnnoLayer",constructor:function(e){this.spatialReference=new n({wkid:3857}),this.fullExtent=new t(-20037508.342787,-20037508.342787,20037508.342787,20037508.342787,this.spatialReference),this.initialExtent=this.fullExtent,this.tileInfo=new i({cols:256,rows:256,compressionQuality:0,origin:new a(-20037508.342787,20037508.342787,this.spatialReference),spatialReference:this.spatialReference,lods:[{level:0,resolution:156543.033928,scale:591657527.591555},{level:1,resolution:78271.5169639999,scale:295828763.795777},{level:2,resolution:39135.7584820001,scale:147914381.897889},{level:3,resolution:19567.8792409999,scale:73957190.948944},{level:4,resolution:9783.93962049996,scale:36978595.474472},{level:5,resolution:4891.96981024998,scale:18489297.737236},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.99245256249,scale:4622324.434309},{level:8,resolution:611.49622628138,scale:2311162.217155},{level:9,resolution:305.748113140558,scale:1155581.108577},{level:10,resolution:152.874056570411,scale:577790.554289},{level:11,resolution:76.4370282850732,scale:288895.277144},{level:12,resolution:38.2185141425366,scale:144447.638572},{level:13,resolution:19.1092570712683,scale:72223.819286},{level:14,resolution:9.55462853563415,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.38865713397468,scale:9027.977411},{level:17,resolution:1.19432856685505,scale:4513.988705},{level:18,resolution:.597164283559817,scale:2256.994353},{level:19,resolution:.298582141647617,scale:1128.497176}]}),this.loaded=!0,this.onLoad(this)},getTileUrl:function(e,r,t){return"http://webst0"+(t%4+1)+".is.autonavi.com/appmaptile?style=8&x="+t+"&y="+r+"&z="+e}}),function(e){var r=new GaoDeAnnoLayer;e.addLayer(r)}(e)})}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=r.gaodeType={};n.gaodeLayer="gaodeLayer",n.gaodeImageLayer="gaodeImageLayer",n.gaodeAnnoLayer="gaodeAnnoLayer"},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.tdtTool=void 0;var n=t(142),a=t(72),i=t(73),o=t(74),l=t(75),s=r.tdtTool={};s.layerType=i.tdtType,s.addLayer=function(e,r){e==i.tdtType.tdtLayer?(a.tdtLayer.create(r),n.tdtAnnoLayer.create(r)):e==i.tdtType.tdtImageLayer&&(o.tdtImageLayer.create(r),l.tdtImageAnnoLayer.create(r))}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.tdtLayer=void 0;var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0));(r.tdtLayer={}).create=function(e){n.dojoRequire(["dojo/_base/declare","esri/geometry/Extent","esri/SpatialReference","esri/geometry/Point","esri/layers/TileInfo","esri/layers/TiledMapServiceLayer"],function(r,t,n,a,i,o){r("TDTLayer",o,{name:"TDTLayer",constructor:function(){this.spatialReference=new esri.SpatialReference({wkid:4326}),this.initialExtent=this.fullExtent=new esri.geometry.Extent(-180,-90,180,90,this.spatialReference),this.tileInfo=new esri.layers.TileInfo({rows:256,cols:256,compressionQuality:0,origin:{x:-180,y:90},spatialReference:{wkid:4326},lods:[{level:2,resolution:.3515625,scale:147748796.52937502},{level:3,resolution:.17578125,scale:73874398.26468751},{level:4,resolution:.087890625,scale:36937199.132343754},{level:5,resolution:.0439453125,scale:18468599.566171877},{level:6,resolution:.02197265625,scale:9234299.783085939},{level:7,resolution:.010986328125,scale:4617149.891542969},{level:8,resolution:.0054931640625,scale:2308574.9457714846},{level:9,resolution:.00274658203125,scale:1154287.4728857423},{level:10,resolution:.001373291015625,scale:577143.7364428712},{level:11,resolution:.0006866455078125,scale:288571.8682214356},{level:12,resolution:.00034332275390625,scale:144285.9341107178},{level:13,resolution:.000171661376953125,scale:72142.9670553589},{level:14,resolution:858306884765625e-19,scale:36071.48352767945},{level:15,resolution:4291534423828125e-20,scale:18035.741763839724},{level:16,resolution:21457672119140625e-21,scale:9017.870881919862},{level:17,resolution:10728836059570312e-21,scale:4508.935440959931},{level:18,resolution:5364418029785156e-21,scale:2254.4677204799655}]}),this.loaded=!0,this.onLoad(this)},getTileUrl:function(e,r,t){return"http://t"+t%8+".tianditu.cn/vec_c/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=vec&STYLE=default&TILEMATRIXSET=c&TILEMATRIX="+e+"&TILEROW="+r+"&TILECOL="+t+"&FORMAT=tiles"}}),function(e){var r=new TDTLayer;e.addLayer(r)}(e)})}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=r.tdtType={};n.tdtLayer="tdtLayer",n.tdtAnnoLayer="tdtAnnoLayer",n.tdtImageLayer="tdtImageLayer"},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.tdtImageLayer=void 0;var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0));(r.tdtImageLayer={}).create=function(e){n.dojoRequire(["dojo/_base/declare","esri/geometry/Extent","esri/SpatialReference","esri/geometry/Point","esri/layers/TileInfo","esri/layers/TiledMapServiceLayer"],function(r,t,n,a,i,o){r("TDTImageLayer",o,{name:"TDTImageLayer",constructor:function(){this.spatialReference=new esri.SpatialReference({wkid:4326}),this.initialExtent=this.fullExtent=new esri.geometry.Extent(-180,-90,180,90,this.spatialReference),this.tileInfo=new esri.layers.TileInfo({rows:256,cols:256,compressionQuality:0,origin:{x:-180,y:90},spatialReference:{wkid:4326},lods:[{level:2,resolution:.3515625,scale:147748796.52937502},{level:3,resolution:.17578125,scale:73874398.26468751},{level:4,resolution:.087890625,scale:36937199.132343754},{level:5,resolution:.0439453125,scale:18468599.566171877},{level:6,resolution:.02197265625,scale:9234299.783085939},{level:7,resolution:.010986328125,scale:4617149.891542969},{level:8,resolution:.0054931640625,scale:2308574.9457714846},{level:9,resolution:.00274658203125,scale:1154287.4728857423},{level:10,resolution:.001373291015625,scale:577143.7364428712},{level:11,resolution:.0006866455078125,scale:288571.8682214356},{level:12,resolution:.00034332275390625,scale:144285.9341107178},{level:13,resolution:.000171661376953125,scale:72142.9670553589},{level:14,resolution:858306884765625e-19,scale:36071.48352767945},{level:15,resolution:4291534423828125e-20,scale:18035.741763839724},{level:16,resolution:21457672119140625e-21,scale:9017.870881919862},{level:17,resolution:10728836059570312e-21,scale:4508.935440959931},{level:18,resolution:5364418029785156e-21,scale:2254.4677204799655}]}),this.loaded=!0,this.onLoad(this)},getTileUrl:function(e,r,t){return"http://t"+t%8+".tianditu.cn/img_c/wmts?service=wmts&request=GetTile&version=1.0.0&LAYER=img&tileMatrixSet=c&TileMatrix="+e+"&TileRow="+r+"&TileCol="+t+"&style=default&format=tiles"}}),function(e){var r=new TDTImageLayer;e.addLayer(r)}(e)})}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.tdtImageAnnoLayer=void 0;var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0));(r.tdtImageAnnoLayer={}).create=function(e){n.dojoRequire(["dojo/_base/declare","esri/geometry/Extent","esri/SpatialReference","esri/geometry/Point","esri/layers/TileInfo","esri/layers/TiledMapServiceLayer"],function(r,t,n,a,i,o){r("TDTImageAnnoLayer",o,{name:"TDTImageAnnoLayer",constructor:function(){this.spatialReference=new esri.SpatialReference({wkid:4326}),this.initialExtent=this.fullExtent=new esri.geometry.Extent(-180,-90,180,90,this.spatialReference),this.tileInfo=new esri.layers.TileInfo({rows:256,cols:256,compressionQuality:0,origin:{x:-180,y:90},spatialReference:{wkid:4326},lods:[{level:2,resolution:.3515625,scale:147748796.52937502},{level:3,resolution:.17578125,scale:73874398.26468751},{level:4,resolution:.087890625,scale:36937199.132343754},{level:5,resolution:.0439453125,scale:18468599.566171877},{level:6,resolution:.02197265625,scale:9234299.783085939},{level:7,resolution:.010986328125,scale:4617149.891542969},{level:8,resolution:.0054931640625,scale:2308574.9457714846},{level:9,resolution:.00274658203125,scale:1154287.4728857423},{level:10,resolution:.001373291015625,scale:577143.7364428712},{level:11,resolution:.0006866455078125,scale:288571.8682214356},{level:12,resolution:.00034332275390625,scale:144285.9341107178},{level:13,resolution:.000171661376953125,scale:72142.9670553589},{level:14,resolution:858306884765625e-19,scale:36071.48352767945},{level:15,resolution:4291534423828125e-20,scale:18035.741763839724},{level:16,resolution:21457672119140625e-21,scale:9017.870881919862},{level:17,resolution:10728836059570312e-21,scale:4508.935440959931},{level:18,resolution:5364418029785156e-21,scale:2254.4677204799655}]}),this.loaded=!0,this.onLoad(this)},getTileUrl:function(e,r,t){return"http://t"+t%8+".tianditu.cn/cia_c/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cia&STYLE=default&TILEMATRIXSET=c&TILEMATRIX="+e+"&TILEROW="+r+"&TILECOL="+t+"&FORMAT=tiles"}}),function(e){var r=new TDTImageAnnoLayer;e.addLayer(r)}(e)})}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mapBoxLayer=void 0;var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0)),a=t(77);var i=r.mapBoxLayer={};i.layerType=a.mapBoxType,i.addLayer=function(e,r){n.dojoRequire(["esri/map","esri/layers/WebTiledLayer"],function(t,n){var a=new n("https://${subDomain}.tiles.mapbox.com/v4/mapbox."+e+"/${level}/${col}/${row}.png?access_token=pk.eyJ1IjoiYW5hbHl0aWNhbGdyYXBoaWNzIiwiYSI6ImNpd204Zm4wejAwNzYyeW5uNjYyZmFwdWEifQ.7i-VIZZWX8pd1bTfxIVj9g",{subDomains:["a","b","c"]});r.addLayer(a)})}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=r.mapBoxType={};n.streets="streets",n.light="light",n.dark="dark",n.satellite="satellite",n.streetsSatellite="streets-satellite",n.wheatpaste="wheatpaste",n.streetsBasic="streets-basic",n.comic="comic",n.outdoors="outdoors",n.runBikeHike="run-bike-hike",n.pencil="pencil",n.pirates="pirates",n.emerald="emerald",n.highContrast="high-contrast"},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.queryTool=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0)),i=t(7),o=t(1),l=t(79),s=(n=l)&&n.__esModule?n:{default:n};var u=r.queryTool={};function c(e,r){console.log("---------------",u.queryType);var t=i.layerManager.getQueryLayerByType(u.mapId,u.queryType,u.layerNames);if(0!=t.length){var n=new Object;n.callback=r,n.query=e,n.layerarr=t,n.index=0,n.queryResultarr=new Array,f(n)}}function f(e){a.dojoRequire(["esri/map","esri/tasks/QueryTask"],function(r,t){var n=e.layerarr[e.index];new esri.tasks.QueryTask(n.SERVICES_ADDR).execute(e.query,function(r){!function(e,r){var t=r.features;if(null!=t&&t.length>0){var n=new s.default(e.layerarr[e.index],t,r);e.queryResultarr.push(n)}e.index=e.index+1,e.index!=e.layerarr.length?f(e):null!=e.callback&&e.callback(e.queryResultarr)}(e,r)})})}u.queryType="visible",u.mapId=mapConfig.mapId,u.layerNames=[],u.VISIBLE="visible",u.TOP="top",u.SPECIAL="special",u.doSpatialQuery=function(e,r){a.dojoRequire(["esri/map","esri/tasks/query"],function(t,n){var a=new esri.tasks.Query;a.spatialRelationship="esriSpatialRelIntersects",a.outFields=["*"],a.geometry=e;var i=o.baseMapManagerCtrl.mapHash[u.mapId];a.geometry.spatialReference=i.spatialReference,a.returnGeometry=!0,c(a,r)})},u.doSpatialQueryWhere=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1=1",t=arguments[2];a.dojoRequire(["esri/map","esri/tasks/query"],function(n,a){var i=new esri.tasks.Query;i.where=r,i.spatialRelationship="esriSpatialRelIntersects",i.outFields=["*"],i.geometry=e;var l=o.baseMapManagerCtrl.mapHash[u.mapId];i.geometry.spatialReference=l.spatialReference,i.returnGeometry=!0,c(i,t)})}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,a=t(61),i=(n=a)&&n.__esModule?n:{default:n};r.default=function e(r,t,n){(0,i.default)(this,e),this.layer=r,this.graphics=t,this.featureSet=n}},function(e,r,t){"use strict";var n=t(5),a=t(82),i=t(119),o=t(44),l=t(120),s=t(23),u=t(60),c=t(125),f=t(15),y=t(7),d=t(27),v=t(131),p=t(1),g=t(141),m=t(143),h=t(43),L=t(144),w=t(145),_=t(78),M=t(79),S=(t(146),t(147)),E=t(28),b=t(69),T=t(67),I=t(68),x=t(66),R=t(70),A=t(72),C=t(74),P=t(75),O=t(73),k=t(71),j=t(76),D=t(77);window.gismap3=new Object,window.gismap3.eventBus=n.eventBus,window.gismap3.baseMapManagerCtrl=p.baseMapManagerCtrl,window.gismap3.baseMap_bussiness_ctrl=g.baseMap_bussiness_ctrl,window.gismap3.layerManager=y.layerManager,window.gismap3.layerTypeEnum=d.layerTypeEnum,window.gismap3.cityWorkLinkAge_Business_Ctrl=i.cityWorkLinkAge_Business_Ctrl,window.gismap3.cityWorkLinkageCtrl=o.cityWorkLinkageCtrl,window.gismap3.configLoadTool=l.configLoadTool,window.gismap3.configManagerCtrl=s.configManagerCtrl,window.gismap3.LayerConifg=u.LayerConifg,window.gismap3.locateManagerCtrl=v.locateManagerCtrl,window.gismap3.drawManagerCtrl=f.drawManagerCtrl,window.gismap3.measureTool=m.measureTool,window.gismap3.gpService=h.gpService,window.gismap3.buffTool=a.buffTool,window.gismap3.diagramTool=c.diagramTool,window.gismap3.mouseMoveTool=L.mouseMoveTool,window.gismap3.printTool=w.printTool,window.gismap3.queryTool=_.queryTool,window.gismap3.QueryResult=M.QueryResult,window.gismap3.swipeTool=S.swipeTool,window.gismap3.symbolTool=E.symbolTool,window.gismap3.gaodeAnnoLayer=b.gaodeAnnoLayer,window.gismap3.gaodeImageLayer=T.gaodeImageLayer,window.gismap3.gaodeLayer=I.gaodeLayer,window.gismap3.gaodeTool=x.gaodeTool,window.gismap3.gaodeType=R.gaodeType,window.gismap3.tdtLayer=A.tdtLayer,window.gismap3.tdtImageLayer=C.tdtImageLayer,window.gismap3.tdtImageAnnoLayer=P.tdtImageAnnoLayer,window.gismap3.tdtType=O.tdtType,window.gismap3.tdtTool=k.tdtTool,window.gismap3.mapBoxLayer=j.mapBoxLayer,window.gismap3.mapBoxType=D.mapBoxType},function(e,r,t){var n;
/*!
 * EventEmitter v5.2.4 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */!function(r){"use strict";function a(){}var i=a.prototype,o=r.EventEmitter;function l(e,r){for(var t=e.length;t--;)if(e[t].listener===r)return t;return-1}function s(e){return function(){return this[e].apply(this,arguments)}}i.getListeners=function(e){var r,t,n=this._getEvents();if(e instanceof RegExp)for(t in r={},n)n.hasOwnProperty(t)&&e.test(t)&&(r[t]=n[t]);else r=n[e]||(n[e]=[]);return r},i.flattenListeners=function(e){var r,t=[];for(r=0;r<e.length;r+=1)t.push(e[r].listener);return t},i.getListenersAsObject=function(e){var r,t=this.getListeners(e);return t instanceof Array&&((r={})[e]=t),r||t},i.addListener=function(e,r){if(!function e(r){return"function"==typeof r||r instanceof RegExp||!(!r||"object"!=typeof r)&&e(r.listener)}(r))throw new TypeError("listener must be a function");var t,n=this.getListenersAsObject(e),a="object"==typeof r;for(t in n)n.hasOwnProperty(t)&&-1===l(n[t],r)&&n[t].push(a?r:{listener:r,once:!1});return this},i.on=s("addListener"),i.addOnceListener=function(e,r){return this.addListener(e,{listener:r,once:!0})},i.once=s("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var r=0;r<e.length;r+=1)this.defineEvent(e[r]);return this},i.removeListener=function(e,r){var t,n,a=this.getListenersAsObject(e);for(n in a)a.hasOwnProperty(n)&&-1!==(t=l(a[n],r))&&a[n].splice(t,1);return this},i.off=s("removeListener"),i.addListeners=function(e,r){return this.manipulateListeners(!1,e,r)},i.removeListeners=function(e,r){return this.manipulateListeners(!0,e,r)},i.manipulateListeners=function(e,r,t){var n,a,i=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof r||r instanceof RegExp)for(n=t.length;n--;)i.call(this,r,t[n]);else for(n in r)r.hasOwnProperty(n)&&(a=r[n])&&("function"==typeof a?i.call(this,n,a):o.call(this,n,a));return this},i.removeEvent=function(e){var r,t=typeof e,n=this._getEvents();if("string"===t)delete n[e];else if(e instanceof RegExp)for(r in n)n.hasOwnProperty(r)&&e.test(r)&&delete n[r];else delete this._events;return this},i.removeAllListeners=s("removeEvent"),i.emitEvent=function(e,r){var t,n,a,i,o=this.getListenersAsObject(e);for(i in o)if(o.hasOwnProperty(i))for(t=o[i].slice(0),a=0;a<t.length;a++)!0===(n=t[a]).once&&this.removeListener(e,n.listener),n.listener.apply(this,r||[])===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=s("emitEvent"),i.emit=function(e){var r=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,r)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return r.EventEmitter=o,a},void 0===(n=function(){return a}.call(r,t,r,e))||(e.exports=n)}(this||{})},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.buffTool=void 0;var n=t(15),a=t(1),i=t(7),o=t(28),l=t(5),s=t(43),u=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0));var c=r.buffTool={};function f(e){s.gpService.geometryService.simplify(e,function(e){var r=new esri.tasks.BufferParameters;r.distances=[c.distance],r.bufferSpatialReference=new esri.SpatialReference({wkid:c.EPSG_GEOGRAPHIC}),r.unit=esri.tasks.GeometryService.UNIT_METER,r.geometries=e,s.gpService.geometryService.buffer(r,y)})}function y(e){u.dojoRequire(["esri/map","esri/graphic"],function(r,t){var a=i.layerManager.setGraphicLayer(n.drawManagerCtrl.drawMapId,"buff"),l=new esri.Graphic(e[0],o.symbolTool.getBuffSymbol());a.add(l),c.callBack(l)})}c.xmlLoadData=[],c.EPSG_GEOGRAPHIC=102113,c.distance=0,c.callBack=null,c.clearGraphics=function(e){i.layerManager.setGraphicLayer(e,"buff").clear()},c.buffer=function(e,r,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;c.callBack=i;n.drawManagerCtrl.activeTool(e,r,"buff"),0==l.eventBus.bus.getListeners("draw-buff").length&&l.eventBus.bus.addOnceListener("draw-buff",function(r){"buff"==n.drawManagerCtrl.drawName&&n.drawManagerCtrl.drawMapId==e&&u.dojoRequire(["esri/map","esri/SpatialReference","esri/tasks/GeometryService","esri/tasks/BufferParameters","esri/tasks/ProjectParameters","esri/geometry/webMercatorUtils"],function(r,i,o,l,u,y){a.baseMapManagerCtrl.mapHash[e];var d=s.gpService.getGeometryService();c.distance=t;var v=n.drawManagerCtrl.drawGraphic;v=y.webMercatorToGeographic(v);var p=new esri.SpatialReference({wkid:c.EPSG_GEOGRAPHIC}),g=new u;g.geometries=[v],g.outSR=p,d.project(g,f)})})}},function(e,r,t){t(84),e.exports=t(2).Object.keys},function(e,r,t){var n=t(24),a=t(30);t(49)("keys",function(){return function(e){return a(n(e))}})},function(e,r,t){var n=t(17),a=t(25),i=t(86)(!1),o=t(33)("IE_PROTO");e.exports=function(e,r){var t,l=a(e),s=0,u=[];for(t in l)t!=o&&n(l,t)&&u.push(t);for(;r.length>s;)n(l,t=r[s++])&&(~i(u,t)||u.push(t));return u}},function(e,r,t){var n=t(25),a=t(31),i=t(87);e.exports=function(e){return function(r,t,o){var l,s=n(r),u=a(s.length),c=i(o,u);if(e&&t!=t){for(;u>c;)if((l=s[c++])!=l)return!0}else for(;u>c;c++)if((e||c in s)&&s[c]===t)return e||c||0;return!e&&-1}}},function(e,r,t){var n=t(32),a=Math.max,i=Math.min;e.exports=function(e,r){return(e=n(e))<0?a(e+r,0):i(e,r)}},function(e,r,t){e.exports=!t(12)&&!t(20)(function(){return 7!=Object.defineProperty(t(36)("div"),"a",{get:function(){return 7}}).a})},function(e,r,t){var n=t(8);e.exports=function(e,r){if(!n(e))return e;var t,a;if(r&&"function"==typeof(t=e.toString)&&!n(a=t.call(e)))return a;if("function"==typeof(t=e.valueOf)&&!n(a=t.call(e)))return a;if(!r&&"function"==typeof(t=e.toString)&&!n(a=t.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,r,t){e.exports={default:t(91),__esModule:!0}},function(e,r,t){t(92),e.exports=t(2).Object.getPrototypeOf},function(e,r,t){var n=t(24),a=t(51);t(49)("getPrototypeOf",function(){return function(e){return a(n(e))}})},function(e,r,t){t(37),t(39),e.exports=t(100)},function(e,r,t){"use strict";var n=t(95),a=t(52),i=t(21),o=t(25);e.exports=t(38)(Array,"Array",function(e,r){this._t=o(e),this._i=0,this._k=r},function(){var e=this._t,r=this._k,t=this._i++;return!e||t>=e.length?(this._t=void 0,a(1)):a(0,"keys"==r?t:"values"==r?e[t]:[t,e[t]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,r){e.exports=function(){}},function(e,r,t){e.exports=t(14)},function(e,r,t){"use strict";var n=t(53),a=t(50),i=t(26),o={};t(14)(o,t(4)("iterator"),function(){return this}),e.exports=function(e,r,t){e.prototype=n(o,{next:a(1,t)}),i(e,r+" Iterator")}},function(e,r,t){var n=t(10),a=t(11),i=t(30);e.exports=t(12)?Object.defineProperties:function(e,r){a(e);for(var t,o=i(r),l=o.length,s=0;l>s;)n.f(e,t=o[s++],r[t]);return e}},function(e,r,t){var n=t(32),a=t(29);e.exports=function(e){return function(r,t){var i,o,l=String(a(r)),s=n(t),u=l.length;return s<0||s>=u?e?"":void 0:(i=l.charCodeAt(s))<55296||i>56319||s+1===u||(o=l.charCodeAt(s+1))<56320||o>57343?e?l.charAt(s):i:e?l.slice(s,s+2):o-56320+(i-55296<<10)+65536}}},function(e,r,t){var n=t(11),a=t(55);e.exports=t(2).getIterator=function(e){var r=a(e);if("function"!=typeof r)throw TypeError(e+" is not iterable!");return n(r.call(e))}},function(e,r,t){e.exports={default:t(102),__esModule:!0}},function(e,r,t){t(56),t(39),t(37),t(103),t(112),t(115),t(117),e.exports=t(2).Map},function(e,r,t){"use strict";var n=t(104),a=t(59);e.exports=t(107)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var r=n.getEntry(a(this,"Map"),e);return r&&r.v},set:function(e,r){return n.def(a(this,"Map"),0===e?0:e,r)}},n,!0)},function(e,r,t){"use strict";var n=t(10).f,a=t(53),i=t(41),o=t(13),l=t(42),s=t(22),u=t(38),c=t(52),f=t(57),y=t(12),d=t(58).fastKey,v=t(59),p=y?"_s":"size",g=function(e,r){var t,n=d(r);if("F"!==n)return e._i[n];for(t=e._f;t;t=t.n)if(t.k==r)return t};e.exports={getConstructor:function(e,r,t,u){var c=e(function(e,n){l(e,c,r,"_i"),e._t=r,e._i=a(null),e._f=void 0,e._l=void 0,e[p]=0,void 0!=n&&s(n,t,e[u],e)});return i(c.prototype,{clear:function(){for(var e=v(this,r),t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[p]=0},delete:function(e){var t=v(this,r),n=g(t,e);if(n){var a=n.n,i=n.p;delete t._i[n.i],n.r=!0,i&&(i.n=a),a&&(a.p=i),t._f==n&&(t._f=a),t._l==n&&(t._l=i),t[p]--}return!!n},forEach:function(e){v(this,r);for(var t,n=o(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!g(v(this,r),e)}}),y&&n(c.prototype,"size",{get:function(){return v(this,r)[p]}}),c},def:function(e,r,t){var n,a,i=g(e,r);return i?i.v=t:(e._l=i={i:a=d(r,!0),k:r,v:t,p:n=e._l,n:void 0,r:!1},e._f||(e._f=i),n&&(n.n=i),e[p]++,"F"!==a&&(e._i[a]=i)),e},getEntry:g,setStrong:function(e,r,t){u(e,r,function(e,t){this._t=v(e,r),this._k=t,this._l=void 0},function(){for(var e=this._k,r=this._l;r&&r.r;)r=r.p;return this._t&&(this._l=r=r?r.n:this._t._f)?c(0,"keys"==e?r.k:"values"==e?r.v:[r.k,r.v]):(this._t=void 0,c(1))},t?"entries":"values",!t,!0),f(r)}}},function(e,r,t){var n=t(11);e.exports=function(e,r,t,a){try{return a?r(n(t)[0],t[1]):r(t)}catch(r){var i=e.return;throw void 0!==i&&n(i.call(e)),r}}},function(e,r,t){var n=t(21),a=t(4)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[a]===e)}},function(e,r,t){"use strict";var n=t(3),a=t(6),i=t(58),o=t(20),l=t(14),s=t(41),u=t(22),c=t(42),f=t(8),y=t(26),d=t(10).f,v=t(108)(0),p=t(12);e.exports=function(e,r,t,g,m,h){var L=n[e],w=L,_=m?"set":"add",M=w&&w.prototype,S={};return p&&"function"==typeof w&&(h||M.forEach&&!o(function(){(new w).entries().next()}))?(w=r(function(r,t){c(r,w,e,"_c"),r._c=new L,void 0!=t&&u(t,m,r[_],r)}),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var r="add"==e||"set"==e;e in M&&(!h||"clear"!=e)&&l(w.prototype,e,function(t,n){if(c(this,w,e),!r&&h&&!f(t))return"get"==e&&void 0;var a=this._c[e](0===t?0:t,n);return r?this:a})}),h||d(w.prototype,"size",{get:function(){return this._c.size}})):(w=g.getConstructor(r,e,m,_),s(w.prototype,t),i.NEED=!0),y(w,e),S[e]=w,a(a.G+a.W+a.F,S),h||g.setStrong(w,e,m),w}},function(e,r,t){var n=t(13),a=t(46),i=t(24),o=t(31),l=t(109);e.exports=function(e,r){var t=1==e,s=2==e,u=3==e,c=4==e,f=6==e,y=5==e||f,d=r||l;return function(r,l,v){for(var p,g,m=i(r),h=a(m),L=n(l,v,3),w=o(h.length),_=0,M=t?d(r,w):s?d(r,0):void 0;w>_;_++)if((y||_ in h)&&(g=L(p=h[_],_,m),e))if(t)M[_]=g;else if(g)switch(e){case 3:return!0;case 5:return p;case 6:return _;case 2:M.push(p)}else if(c)return!1;return f?-1:u||c?c:M}}},function(e,r,t){var n=t(110);e.exports=function(e,r){return new(n(e))(r)}},function(e,r,t){var n=t(8),a=t(111),i=t(4)("species");e.exports=function(e){var r;return a(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!a(r.prototype)||(r=void 0),n(r)&&null===(r=r[i])&&(r=void 0)),void 0===r?Array:r}},function(e,r,t){var n=t(18);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,r,t){var n=t(6);n(n.P+n.R,"Map",{toJSON:t(113)("Map")})},function(e,r,t){var n=t(40),a=t(114);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return a(this)}}},function(e,r,t){var n=t(22);e.exports=function(e,r){var t=[];return n(e,!1,t.push,t,r),t}},function(e,r,t){t(116)("Map")},function(e,r,t){"use strict";var n=t(6);e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,r=new Array(e);e--;)r[e]=arguments[e];return new this(r)}})}},function(e,r,t){t(118)("Map")},function(e,r,t){"use strict";var n=t(6),a=t(19),i=t(13),o=t(22);e.exports=function(e){n(n.S,e,{from:function(e){var r,t,n,l,s=arguments[1];return a(this),(r=void 0!==s)&&a(s),void 0==e?new this:(t=[],r?(n=0,l=i(s,arguments[2],2),o(e,!1,function(e){t.push(l(e,n++))})):o(e,!1,t.push,t),new this(t))}})}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.cityWorkLinkAge_Business_Ctrl=void 0;!function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);r.default=e}(t(0));var n=t(44),a=t(1),i=t(5);var o=r.cityWorkLinkAge_Business_Ctrl={};o.mapIdArr=[],o.init=function(e){o.mapIdArr=e,e.forEach(function(e,r,t){o.setFunCall(function(){o.addMapListener(e)},e)})},o.setFunCall=function(e,r){setTimeout(function(){a.baseMapManagerCtrl.isLoad[r]?e():o.setFunCall(e,r)},3e3)},o.addMapListener=function(e){var r=a.baseMapManagerCtrl.mapHash[e];r.on("mouse-up",function(r){n.cityWorkLinkageCtrl.changeMapId=e,n.cityWorkLinkageCtrl.is23DMove&&(n.cityWorkLinkageCtrl.switch23Flag=!1)}),r.on("mouse-wheel",function(r){n.cityWorkLinkageCtrl.changeMapId=e,n.cityWorkLinkageCtrl.is23DMove&&(n.cityWorkLinkageCtrl.switch23Flag=!1)}),r.on("extent-change",function(t){n.cityWorkLinkageCtrl.addTwoCoordinate(e,r.extent,a.baseMapManagerCtrl.mapHash,o.mapIdArr);var l=r.extent;i.eventBus.bus.emit(i.eventBus.MAP_EXTENT_CHANGE,l)})}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.configLoadTool=void 0;var n,a=t(23),i=t(60),o=(n=i)&&n.__esModule?n:{default:n};(r.configLoadTool={}).load=function(){var e=[];"local"==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"local")&&(LAYERS_2D.LAYERS.LAYER.forEach(function(r,t,n){var a=new o.default(r);e.push(a)}),a.configManagerCtrl.configArr=e)}},function(e,r,t){"use strict";r.__esModule=!0;var n,a=t(122),i=(n=a)&&n.__esModule?n:{default:n};r.default=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}()},function(e,r,t){e.exports={default:t(123),__esModule:!0}},function(e,r,t){t(124);var n=t(2).Object;e.exports=function(e,r,t){return n.defineProperty(e,r,t)}},function(e,r,t){var n=t(6);n(n.S+n.F*!t(12),"Object",{defineProperty:t(10).f})},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.diagramTool=void 0;var n=c(t(126)),a=c(t(9)),i=t(1),o=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0)),l=t(5),s=t(27),u=t(7);function c(e){return e&&e.__esModule?e:{default:e}}var f=r.diagramTool={};function y(e,r,t){var n=i.baseMapManagerCtrl.mapHash[mapConfig.mapId];if(r==s.layerTypeEnum.ArcGISDynamicMapServiceLayer){var o=!0,l=!1,c=void 0;try{for(var y,d=(0,a.default)(e);!(o=(y=d.next()).done);o=!0){var v=y.value,p=u.layerManager.getAgsLayerFromMapWithUrl(n,v.MAPSERVICES);void 0==f.legendLayer[v.MAPSERVICES]&&(f.legendLayer[v.MAPSERVICES]={layer:p,title:"部件信息"})}}catch(e){l=!0,c=e}finally{try{!o&&d.return&&d.return()}finally{if(l)throw c}}f.refreshlegend()}}f.legend=null,f.legendLayer={},f.init=function(){var e=i.baseMapManagerCtrl.mapHash[mapConfig.mapId];u.layerManager.getLayerByLegend(e,"ArcGISDynamicMapServiceLayer").map(function(e){f.legendLayer[e.url]={layer:e,title:"部件信息"}}),f.addLegend(),l.eventBus.bus.addListener(l.eventBus.LAYER_VISIBLE_CHANGE,y)},f.destroy=function(){l.eventBus.bus.removeListener(l.eventBus.LAYER_VISIBLE_CHANGE,y),f.legend.destroy(),f.legend=null},f.addLegend=function(){o.dojoRequire(["esri/map","esri/dijit/Legend"],function(e,r){if(null==f.legend){var t=i.baseMapManagerCtrl.mapHash[mapConfig.mapId];f.legend=new r({map:t,layerInfos:[]},"legendDiv"),f.legend.startup()}f.refreshlegend()})},f.refreshlegend=function(){var e=(0,n.default)(f.legendLayer);if(e.length>0){f.legend.refresh(e);var r=!0,t=!1,i=void 0;try{for(var o,l=(0,a.default)(e);!(r=(o=l.next()).done);r=!0){o.value.layer.refresh()}}catch(e){t=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(t)throw i}}}}},function(e,r,t){e.exports={default:t(127),__esModule:!0}},function(e,r,t){t(128),e.exports=t(2).Object.values},function(e,r,t){var n=t(6),a=t(129)(!1);n(n.S,"Object",{values:function(e){return a(e)}})},function(e,r,t){var n=t(30),a=t(25),i=t(130).f;e.exports=function(e){return function(r){for(var t,o=a(r),l=n(o),s=l.length,u=0,c=[];s>u;)i.call(o,t=l[u++])&&c.push(e?[t,o[t]]:o[t]);return c}}},function(e,r){r.f={}.propertyIsEnumerable},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.locateManagerCtrl=void 0;var n,a=t(132),i=(n=a)&&n.__esModule?n:{default:n},o=t(1),l=t(23),s=t(7),u=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0)),c=t(28);var f=r.locateManagerCtrl={};f.poiXmlLoadData=[],f.zoomByExpresstion=function(e,r,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;u.dojoRequire(["esri/map","esri/tasks/query","esri/graphic","esri/graphicsUtils","esri/tasks/QueryTask","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/Polygon"],function(i,u,f,y,d,v,p,g){var m=s.layerManager.setGraphicLayer(e,r);m.clear();var h=o.baseMapManagerCtrl.mapHash[e],L=l.configManagerCtrl.getLayerConfigByName(r),w=new esri.tasks.QueryTask(L.SERVICES_ADDR),_=new esri.tasks.Query;_.where=t,_.returnGeometry=!0,_.outSpatialReference=h.spatialReference,w.execute(_,function(e){e.features.forEach(function(e){var r=e.geometry,t=null,a=r.type;t=n?new esri.Graphic(r,n):new esri.Graphic(r,c.symbolTool.getSymbol(a)),m.add(t)}),null!=a&&a(e);var r=y.graphicsExtent(m.graphics);h.setExtent(r)})})},f.zoomByGraphic=function(e,r,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";u.dojoRequire(["esri/map","esri/tasks/query","esri/graphic","esri/graphicsUtils","esri/tasks/QueryTask","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/Polygon"],function(a,i,l,u,f,y,d,v){var p=s.layerManager.setGraphicLayer(e,r),g=t.geometry.type;p.clear();var m=o.baseMapManagerCtrl.mapHash[e];if(t.spatialReference=m.spatialReference,""==n?t.setSymbol(c.symbolTool.getSymbol(g)):t.setSymbol(n),p.add(t),"point"==g)-1==m.getLevel()?(mapConfig.scale,m.centerAt(t.geometry)):m.centerAndZoom(t.geometry,mapConfig.level);else{var h=u.graphicsExtent(p.graphics);h.spatialReference=m.spatialReference,m.setExtent(h)}})},f.zoomByXY=function(e,r,t,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";u.dojoRequire(["esri/map","esri/tasks/query","esri/graphic","esri/graphicsUtils","esri/tasks/QueryTask","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/Polygon"],function(i,l,u,f,y,d,v,p){var g=o.baseMapManagerCtrl.mapHash[e],m=s.layerManager.setGraphicLayer(e,r),h=new u(new d(t,n,g.spatialReference));m.clear(),""==a?h.setSymbol(c.symbolTool.getSymbol("point")):h.setSymbol(a),m.add(h),-1==g.getLevel()?(mapConfig.scale,g.centerAt(h.geometry)):g.centerAndZoom(h.geometry,mapConfig.level)})},f.queryGraphics=function(e,r,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;u.dojoRequire(["esri/map","esri/tasks/query","esri/graphic","esri/graphicsUtils","esri/tasks/QueryTask","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/Polygon"],function(a,i,s,u,c,f,y,d){var v=o.baseMapManagerCtrl.mapHash[e],p=l.configManagerCtrl.getLayerConfigByName(r),g=new esri.tasks.QueryTask(p.SERVICES_ADDR),m=new esri.tasks.Query;m.where=t,m.returnGeometry=!0,m.outSpatialReference=v.spatialReference,m.outFields=["*"],g.execute(m,function(e){null!=n&&n(e)})})},f.findTask=function(e,r,t,n){return new i.default(function(a,i){u.dojoRequire(["esri/tasks/FindTask","esri/tasks/FindParameters"],function(o,l){var s=new o(e),u=new l;u.layerIds=r,u.searchFields=t,u.searchText=n,u.returnGeometry=!0,s.execute(u,function(e){a(e)},function(e){i(e)})})})},f.identifyTask=function(e,r,t,n){return new i.default(function(a,i){u.dojoRequire(["esri/tasks/IdentifyTask","esri/tasks/IdentifyParameters"],function(l,s){var u=o.baseMapManagerCtrl.mapHash[e],c=new l(r),f=new s;f.layerIds=t,f.geometry=n,f.mapExtent=u.extent,f.tolerance=3,f.returnGeometry=!0,f.layerOption=s.LAYER_OPTION_ALL,c.execute(f,function(e){a(e)},function(e){i(e)})})})}},function(e,r,t){e.exports={default:t(133),__esModule:!0}},function(e,r,t){t(56),t(39),t(37),t(134),t(139),t(140),e.exports=t(2).Promise},function(e,r,t){"use strict";var n,a,i,o,l=t(34),s=t(3),u=t(13),c=t(40),f=t(6),y=t(8),d=t(19),v=t(42),p=t(22),g=t(62),m=t(63).set,h=t(136)(),L=t(45),w=t(64),_=t(137),M=t(65),S=s.TypeError,E=s.process,b=E&&E.versions,T=b&&b.v8||"",I=s.Promise,x="process"==c(E),R=function(){},A=a=L.f,C=!!function(){try{var e=I.resolve(1),r=(e.constructor={})[t(4)("species")]=function(e){e(R,R)};return(x||"function"==typeof PromiseRejectionEvent)&&e.then(R)instanceof r&&0!==T.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(e){}}(),P=function(e){var r;return!(!y(e)||"function"!=typeof(r=e.then))&&r},O=function(e,r){if(!e._n){e._n=!0;var t=e._c;h(function(){for(var n=e._v,a=1==e._s,i=0,o=function(r){var t,i,o,l=a?r.ok:r.fail,s=r.resolve,u=r.reject,c=r.domain;try{l?(a||(2==e._h&&D(e),e._h=1),!0===l?t=n:(c&&c.enter(),t=l(n),c&&(c.exit(),o=!0)),t===r.promise?u(S("Promise-chain cycle")):(i=P(t))?i.call(t,s,u):s(t)):u(n)}catch(e){c&&!o&&c.exit(),u(e)}};t.length>i;)o(t[i++]);e._c=[],e._n=!1,r&&!e._h&&k(e)})}},k=function(e){m.call(s,function(){var r,t,n,a=e._v,i=j(e);if(i&&(r=w(function(){x?E.emit("unhandledRejection",a,e):(t=s.onunhandledrejection)?t({promise:e,reason:a}):(n=s.console)&&n.error&&n.error("Unhandled promise rejection",a)}),e._h=x||j(e)?2:1),e._a=void 0,i&&r.e)throw r.v})},j=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(e){m.call(s,function(){var r;x?E.emit("rejectionHandled",e):(r=s.onrejectionhandled)&&r({promise:e,reason:e._v})})},G=function(e){var r=this;r._d||(r._d=!0,(r=r._w||r)._v=e,r._s=2,r._a||(r._a=r._c.slice()),O(r,!0))},N=function(e){var r,t=this;if(!t._d){t._d=!0,t=t._w||t;try{if(t===e)throw S("Promise can't be resolved itself");(r=P(e))?h(function(){var n={_w:t,_d:!1};try{r.call(e,u(N,n,1),u(G,n,1))}catch(e){G.call(n,e)}}):(t._v=e,t._s=1,O(t,!1))}catch(e){G.call({_w:t,_d:!1},e)}}};C||(I=function(e){v(this,I,"Promise","_h"),d(e),n.call(this);try{e(u(N,this,1),u(G,this,1))}catch(e){G.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=t(41)(I.prototype,{then:function(e,r){var t=A(g(this,I));return t.ok="function"!=typeof e||e,t.fail="function"==typeof r&&r,t.domain=x?E.domain:void 0,this._c.push(t),this._a&&this._a.push(t),this._s&&O(this,!1),t.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=u(N,e,1),this.reject=u(G,e,1)},L.f=A=function(e){return e===I||e===o?new i(e):a(e)}),f(f.G+f.W+f.F*!C,{Promise:I}),t(26)(I,"Promise"),t(57)("Promise"),o=t(2).Promise,f(f.S+f.F*!C,"Promise",{reject:function(e){var r=A(this);return(0,r.reject)(e),r.promise}}),f(f.S+f.F*(l||!C),"Promise",{resolve:function(e){return M(l&&this===o?I:this,e)}}),f(f.S+f.F*!(C&&t(138)(function(e){I.all(e).catch(R)})),"Promise",{all:function(e){var r=this,t=A(r),n=t.resolve,a=t.reject,i=w(function(){var t=[],i=0,o=1;p(e,!1,function(e){var l=i++,s=!1;t.push(void 0),o++,r.resolve(e).then(function(e){s||(s=!0,t[l]=e,--o||n(t))},a)}),--o||n(t)});return i.e&&a(i.v),t.promise},race:function(e){var r=this,t=A(r),n=t.reject,a=w(function(){p(e,!1,function(e){r.resolve(e).then(t.resolve,n)})});return a.e&&n(a.v),t.promise}})},function(e,r){e.exports=function(e,r,t){var n=void 0===t;switch(r.length){case 0:return n?e():e.call(t);case 1:return n?e(r[0]):e.call(t,r[0]);case 2:return n?e(r[0],r[1]):e.call(t,r[0],r[1]);case 3:return n?e(r[0],r[1],r[2]):e.call(t,r[0],r[1],r[2]);case 4:return n?e(r[0],r[1],r[2],r[3]):e.call(t,r[0],r[1],r[2],r[3])}return e.apply(t,r)}},function(e,r,t){var n=t(3),a=t(63).set,i=n.MutationObserver||n.WebKitMutationObserver,o=n.process,l=n.Promise,s="process"==t(18)(o);e.exports=function(){var e,r,t,u=function(){var n,a;for(s&&(n=o.domain)&&n.exit();e;){a=e.fn,e=e.next;try{a()}catch(n){throw e?t():r=void 0,n}}r=void 0,n&&n.enter()};if(s)t=function(){o.nextTick(u)};else if(!i||n.navigator&&n.navigator.standalone)if(l&&l.resolve){var c=l.resolve(void 0);t=function(){c.then(u)}}else t=function(){a.call(n,u)};else{var f=!0,y=document.createTextNode("");new i(u).observe(y,{characterData:!0}),t=function(){y.data=f=!f}}return function(n){var a={fn:n,next:void 0};r&&(r.next=a),e||(e=a,t()),r=a}}},function(e,r,t){var n=t(3).navigator;e.exports=n&&n.userAgent||""},function(e,r,t){var n=t(4)("iterator"),a=!1;try{var i=[7][n]();i.return=function(){a=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,r){if(!r&&!a)return!1;var t=!1;try{var i=[7],o=i[n]();o.next=function(){return{done:t=!0}},i[n]=function(){return o},e(i)}catch(e){}return t}},function(e,r,t){"use strict";var n=t(6),a=t(2),i=t(3),o=t(62),l=t(65);n(n.P+n.R,"Promise",{finally:function(e){var r=o(this,a.Promise||i.Promise),t="function"==typeof e;return this.then(t?function(t){return l(r,e()).then(function(){return t})}:e,t?function(t){return l(r,e()).then(function(){throw t})}:e)}})},function(e,r,t){"use strict";var n=t(6),a=t(45),i=t(64);n(n.S,"Promise",{try:function(e){var r=a.f(this),t=i(e);return(t.e?r.reject:r.resolve)(t.v),r.promise}})},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.baseMap_bussiness_ctrl=void 0;var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0)),a=t(5),i=t(15),o=t(1),l=t(44),s=t(66),u=t(71),c=t(76);var f=r.baseMap_bussiness_ctrl={};f.init=function(e,r,t,a){try{n.isLoaded()?f.createMap(e,r,t,a):n.bootstrap(function(n){f.createMap(e,r,t,a)},{url:layerConfig.arcgisAPIUrl})}catch(e){}},f.createMap=function(e,r,t,f){n.dojoRequire(["esri/map","esri/layers/ArcGISTiledMapServiceLayer","esri/layers/ArcGISDynamicMapServiceLayer","esri/layers/ArcGISImageServiceLayer","esri/dijit/OverviewMap"],function(n,y,d,v,p){var g=new esri.Map(e,{center:[118.15,31.55],logo:!1});if("tiled"==t){var m=new esri.layers.ArcGISTiledMapServiceLayer(r);m.priority=0,g.addLayer(m),g.on("load",_)}else if("dynamic"==t){var h=new esri.layers.ArcGISDynamicMapServiceLayer(r);g.addLayer(h),f.length>0&&h.setVisibleLayers(f),g.on("load",_)}else if("image"==t){var L=new esri.layers.ArcGISImageServiceLayer(r);L.priority=0,g.addLayer(L),g.on("load",_)}else"gaode"==t?(g.on("load",_),s.gaodeTool.addLayer(s.gaodeTool.layerType.gaodeImageLayer,g)):"tiandi"==t?(g.on("load",_),u.tdtTool.addLayer(u.tdtTool.layerType.tdtImageLayer,g)):"mapbox"==t&&(g.on("load",_),c.mapBoxLayer.addLayer(c.mapBoxLayer.layerType.outdoors,g));if("tiled"==t||"image"==t){var w=new esri.dijit.OverviewMap({map:g,visible:!1,attachTo:"bottom-right"});"_controllerDiv"in w&&(w._controllerDiv.style.display="none"),w.startup(),o.baseMapManagerCtrl.overViewHash[e]=w}function _(){o.baseMapManagerCtrl.mapHash[e]=g,o.baseMapManagerCtrl.isLoad[e]=!0,i.drawManagerCtrl.init(e),a.eventBus.bus.emit(a.eventBus.MAP_IS_LOAD,e),l.cityWorkLinkageCtrl.addTwoCoordinate(e,g.extent,o.baseMapManagerCtrl.mapHash,[])}g.on("extent-change",function(e){console.log(e)})})}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.tdtAnnoLayer=void 0;var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0));(r.tdtAnnoLayer={}).create=function(e){n.dojoRequire(["dojo/_base/declare","esri/geometry/Extent","esri/SpatialReference","esri/geometry/Point","esri/layers/TileInfo","esri/layers/TiledMapServiceLayer"],function(r,t,n,a,i,o){r("TDTAnnoLayer",o,{name:"TDTAnnoLayer",constructor:function(){this.spatialReference=new esri.SpatialReference({wkid:4326}),this.initialExtent=this.fullExtent=new esri.geometry.Extent(-180,-90,180,90,this.spatialReference),this.tileInfo=new esri.layers.TileInfo({rows:256,cols:256,compressionQuality:0,origin:{x:-180,y:90},spatialReference:{wkid:4326},lods:[{level:2,resolution:.3515625,scale:147748796.52937502},{level:3,resolution:.17578125,scale:73874398.26468751},{level:4,resolution:.087890625,scale:36937199.132343754},{level:5,resolution:.0439453125,scale:18468599.566171877},{level:6,resolution:.02197265625,scale:9234299.783085939},{level:7,resolution:.010986328125,scale:4617149.891542969},{level:8,resolution:.0054931640625,scale:2308574.9457714846},{level:9,resolution:.00274658203125,scale:1154287.4728857423},{level:10,resolution:.001373291015625,scale:577143.7364428712},{level:11,resolution:.0006866455078125,scale:288571.8682214356},{level:12,resolution:.00034332275390625,scale:144285.9341107178},{level:13,resolution:.000171661376953125,scale:72142.9670553589},{level:14,resolution:858306884765625e-19,scale:36071.48352767945},{level:15,resolution:4291534423828125e-20,scale:18035.741763839724},{level:16,resolution:21457672119140625e-21,scale:9017.870881919862},{level:17,resolution:10728836059570312e-21,scale:4508.935440959931},{level:18,resolution:5364418029785156e-21,scale:2254.4677204799655}]}),this.loaded=!0,this.onLoad(this)},getTileUrl:function(e,r,t){return"http://t"+r%8+".tianditu.cn/cva_c/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cva&STYLE=default&TILEMATRIXSET=c&TILEMATRIX="+e+"&TILEROW="+r+"&TILECOL="+t+"&FORMAT=tiles"}}),function(e){var r=new TDTAnnoLayer;e.addLayer(r)}(e)})}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.measureTool=void 0;var n=f(t(16)),a=f(t(9)),i=t(15),o=t(1),l=t(7),s=t(5),u=t(43),c=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0));function f(e){return e&&e.__esModule?e:{default:e}}var y=r.measureTool={};function d(e){var r=!0,t=!1,i=void 0;try{for(var o,l=(0,a.default)((0,n.default)(y.coordClickFlag));!(r=(o=l.next()).done);r=!0){var u=o.value;1==y.coordClickFlag[u]&&s.eventBus.bus.emit(s.eventBus.COORD,e.mapPoint)}}catch(e){t=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(t)throw i}}}function v(e){s.eventBus.bus.emit(s.eventBus.LENGTH,e)}function p(e){s.eventBus.bus.emit(s.eventBus.AREA,e)}y.EPSG_GEOGRAPHIC=102113,y.coordClickFlag={},y.coordClick=function(e,r){var t=o.baseMapManagerCtrl.mapHash[e];1==r?(y.coordClickFlag[e]=r,y.mapClickHandle=t.on("mouse-move",d)):(y.coordClickFlag[e]=r,null!=y.mapClickHandle&&y.mapClickHandle.remove())},y.clearGraphics=function(e){l.layerManager.setGraphicLayer(e,"measure").clear()},y.measure=function(e,r){i.drawManagerCtrl.activeTool(e,r,"measure"),0==s.eventBus.bus.getListeners("draw-measure").length&&s.eventBus.bus.addOnceListener("draw-measure",function(t){"measure"==i.drawManagerCtrl.drawName&&i.drawManagerCtrl.drawMapId==e&&c.dojoRequire(["esri/map","esri/config","esri/SpatialReference","esri/tasks/LengthsParameters","esri/tasks/AreasAndLengthsParameters","esri/tasks/ProjectParameters","esri/tasks/GeometryService","esri/geometry/webMercatorUtils"],function(e,t,n,a,o,l,s,c){var f=u.gpService.getGeometryService();if("POLYLINE"==r){var d=new esri.tasks.LengthsParameters;i.drawManagerCtrl.drawGraphic.spatialReference=new esri.SpatialReference(y.EPSG_GEOGRAPHIC),d.polylines=[i.drawManagerCtrl.drawGraphic],d.lengthUnit=esri.tasks.GeometryService.UNIT_METER,d.geodesic=!0,f.lengths(d,v)}else if("POLYGON"==r){var g=i.drawManagerCtrl.drawGraphic;g=c.webMercatorToGeographic(g);var m=new esri.SpatialReference({wkid:y.EPSG_GEOGRAPHIC}),h=new l;h.geometries=[g],h.outSR=m,f.project(h,function(e){f.simplify(e,function(e){var r=new esri.tasks.AreasAndLengthsParameters;r.lengthUnit=esri.tasks.GeometryService.UNIT_METER,r.areaUnit=esri.tasks.GeometryService.UNIT_SQUARE_METERS,r.polygons=e,u.gpService.geometryService.areasAndLengths(r,p)})})}})})}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mouseMoveTool=void 0;var n=c(t(16)),a=c(t(9)),i=t(7),o=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0)),l=t(1),s=t(5),u=t(27);function c(e){return e&&e.__esModule?e:{default:e}}var f=r.mouseMoveTool={};function y(e,r){var t={};o.dojoRequire(["esri/map","esri/InfoTemplate","esri/layers/FeatureLayer"],function(n,i,o){var s=l.baseMapManagerCtrl.mapHash[mapConfig.mapId];if(null==f.featureLayer[e.SERVICES_ADDR]&&1==r){var u=e.MOUSEMOVE_FIELD,c=new i;c.setTitle(e.DISPLAYLAYERNAME);var y="",d=!0,v=!1,p=void 0;try{for(var g,m=(0,a.default)(u);!(d=(g=m.next()).done);d=!0){var h=g.value;y+="<b>"+h.FIELD_CNAME+" : </b>${"+h.FIELD_ENAME+"}<br/>"}}catch(e){v=!0,p=e}finally{try{!d&&m.return&&m.return()}finally{if(v)throw p}}c.setContent(y),t=new o(e.SERVICES_ADDR,{mode:o.MODE_AUTO,outFields:["*"],infoTemplate:c}),f.featureLayer[e.SERVICES_ADDR]=t,s.addLayer(t)}else null!=f.featureLayer[e.SERVICES_ADDR]&&1==r?(t=f.featureLayer[e.SERVICES_ADDR]).setVisibility(!0):null!=f.featureLayer[e.SERVICES_ADDR]&&0==r&&(t=f.featureLayer[e.SERVICES_ADDR]).setVisibility(!1)})}f.featureLayer={},f.layerChangeFun=function(e,r,t){if(r==u.layerTypeEnum.ArcGISDynamicMapServiceLayer){var n=!0,i=!1,o=void 0;try{for(var l,s=(0,a.default)(e);!(n=(l=s.next()).done);n=!0){y(l.value,t)}}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}}},f.startQuery=function(){!function(e){var r=!0,t=!1,n=void 0;try{for(var i,o=(0,a.default)(e);!(r=(i=o.next()).done);r=!0){var l=i.value,s=l.getLayerQueryFlag();"0"!=s&&y(l,!0)}}catch(e){t=!0,n=e}finally{try{!r&&o.return&&o.return()}finally{if(t)throw n}}}(i.layerManager.getVisibleLayer(mapConfig.mapId)),s.eventBus.bus.addListener(s.eventBus.LAYER_VISIBLE_CHANGE,f.layerChangeFun)},f.stopQuery=function(){var e=!0,r=!1,t=void 0;try{for(var i,o=(0,a.default)((0,n.default)(f.featureLayer));!(e=(i=o.next()).done);e=!0){var u=i.value;f.featureLayer[u].setVisibility(!1)}}catch(e){r=!0,t=e}finally{try{!e&&o.return&&o.return()}finally{if(r)throw t}}s.eventBus.bus.removeListener(s.eventBus.LAYER_VISIBLE_CHANGE,f.layerChangeFun),l.baseMapManagerCtrl.mapHash[mapConfig.mapId].infoWindow.hide()}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.printTool=void 0;var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0)),a=t(1),i=t(5);function o(e){i.eventBus.bus.emit(i.eventBus.PRINT_RESULT,e)}function l(e){}(r.printTool={}).print=function(e,r,t,i,s){n.dojoRequire(["esri/map","esri/config","esri/request","esri/tasks/PrintTask","esri/urlUtils","esri/tasks/PrintParameters","esri/tasks/PrintTemplate"],function(n,u,c,f,y,d,v){u.defaults.io.alwaysUseProxy=!1;var p=layerConfig.geometryPdfUrl,g=new esri.tasks.PrintTask(p),m=new esri.tasks.PrintParameters,h=new esri.tasks.PrintTemplate,L=a.baseMapManagerCtrl.mapHash[e];m.map=L,h.exportOptions={width:r,height:t,dpi:s},h.layout="MAP_ONLY",h.format=i,m.template=h,g.execute(m,o,l)})}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.queryManagerCtrl=void 0;var n=c(t(16)),a=c(t(9)),i=t(78),o=t(15),l=t(1),s=t(7),u=t(5);function c(e){return e&&e.__esModule?e:{default:e}}var f=r.queryManagerCtrl={};function y(e){var r=!0,t=!1,o=void 0;try{for(var l,s=(0,a.default)((0,n.default)(f.mouseClickFlag));!(r=(l=s.next()).done);r=!0){var u=l.value;1==f.mouseClickFlag[u]&&(i.queryTool.mapId=u,i.queryTool.doSpatialQuery(e.mapPoint,d))}}catch(e){t=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(t)throw o}}}function d(e){u.eventBus.bus.emit(u.eventBus.MOUSE_CLICK_QUERY,e)}f.mouseClickFlag={},f.xmlLoadData=[],f.mouseClick=function(e,r){var t=l.baseMapManagerCtrl.mapHash[e];1==r?(f.mouseClickFlag[e]=r,f.mapClickHandle=t.on("click",y)):(f.mouseClickFlag[e]=r,null!=f.mapClickHandle&&f.mapClickHandle.remove())},f.clearGraphics=function(e){s.layerManager.setGraphicLayer(e,"select").clear()},f.polygonQuery=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"visible",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;o.drawManagerCtrl.activeTool(e,r,"select"),0==u.eventBus.bus.getListeners("draw-select").length&&u.eventBus.bus.addOnceListener("draw-select",function(r){"select"==o.drawManagerCtrl.drawName&&o.drawManagerCtrl.drawMapId==e&&(i.queryTool.mapId=e,i.queryTool.queryType=t,i.queryTool.layerNames=n,i.queryTool.doSpatialQuery(o.drawManagerCtrl.drawGraphic,a))})}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.swipeTool=void 0;var n,a=t(9),i=(n=a)&&n.__esModule?n:{default:n},o=t(1),l=t(23),s=t(7),u=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(t(0));var c=r.swipeTool={};function f(e){var r=o.baseMapManagerCtrl.mapHash[c.mapId],t=l.configManagerCtrl.getLayerConfigByMapServiceUrl(e.layer.url);if(c.unLoadLayers.includes(t.DISPLAYLAYERNAME)){var n=c.unLoadLayers.indexOf(t.DISPLAYLAYERNAME);c.unLoadLayers.splice(n,1);var a=s.layerManager.getAgsLayerIndexFromMapWithUrl(r,e.layer.url),i=a.agsLyr,u=a.index;c.layerNamesIndex[t.DISPLAYLAYERNAME]=u,c.swipeLayers[t.DISPLAYLAYERNAME]=i,0==c.unLoadLayers.length&&(c.layerAddHandle.remove(),c.startHandle(r))}}c.xmlLoadData=[],c.swipeWidget=null,c.layerAddHandle=null,c.layerNames=new Array,c.layerNamesIndex={},c.swipeLayers={},c.unLoadLayers=new Array,c.mapId="",c.stop=function(e){var r=!0,t=!1,n=void 0;try{for(var a,o=(0,i.default)(c.layerNames);!(r=(a=o.next()).done);r=!0){var l=a.value;s.layerManager.showLayerByName(e,[l],!1)}}catch(e){t=!0,n=e}finally{try{!r&&o.return&&o.return()}finally{if(t)throw n}}null!=c.swipeWidget&&c.swipeWidget.disable()},c.start=function(e,r,t){u.dojoRequire(["esri/map","esri/dijit/LayerSwipe"],function(r,n){c.mapId=e,c.stop(e),c.layerNames=t,c.layerNamesIndex=[];var a=o.baseMapManagerCtrl.mapHash[e];c.unLoadLayers=[];var u=!0,y=!1,d=void 0;try{for(var v,p=(0,i.default)(t);!(u=(v=p.next()).done);u=!0){var g=v.value,m=l.configManagerCtrl.getLayerConfigByName(g),h=s.layerManager.getAgsLayerIndexFromMapWithUrl(a,m.MAPSERVICES),L=h.agsLyr,w=h.index;null!=L?(c.swipeLayers[g]=L,c.layerNamesIndex[g]=w):c.unLoadLayers.push(g)}}catch(e){y=!0,d=e}finally{try{!u&&p.return&&p.return()}finally{if(y)throw d}}if(0==c.unLoadLayers.length){c.startHandle(a);var _=!0,M=!1,S=void 0;try{for(var E,b=(0,i.default)(c.layerNames);!(_=(E=b.next()).done);_=!0){var T=E.value;s.layerManager.showLayerByName(e,[T],!0)}}catch(e){M=!0,S=e}finally{try{!_&&b.return&&b.return()}finally{if(M)throw S}}}else{var I=!0,x=!1,R=void 0;try{for(var A,C=(0,i.default)(c.layerNames);!(I=(A=C.next()).done);I=!0){var P=A.value;c.unLoadLayers.includes(P)||s.layerManager.showLayerByName(e,[P],!0)}}catch(e){x=!0,R=e}finally{try{!I&&C.return&&C.return()}finally{if(x)throw R}}c.layerAddHandle=a.on("layer-add-result",f);var O=!0,k=!1,j=void 0;try{for(var D,G=(0,i.default)(c.unLoadLayers);!(O=(D=G.next()).done);O=!0){var N=D.value;s.layerManager.showLayerByName(e,[N],!0)}}catch(e){k=!0,j=e}finally{try{!O&&G.return&&G.return()}finally{if(k)throw j}}}})},c.startHandle=function(e){u.dojoRequire(["esri/map","esri/dijit/LayerSwipe"],function(r,t){if(c.layerNamesIndex[c.layerNames[0]]<c.layerNamesIndex[c.layerNames[1]]&&e.reorderLayer(c.swipeLayers[c.layerNames[0]],c.layerNamesIndex[c.layerNames[1]]),null==c.swipeWidget){var n=new t({map:e,type:"vertical",layers:[c.swipeLayers[c.layerNames[0]]]},"swipeDiv");c.swipeWidget=n,c.swipeWidget.startup()}else c.swipeWidget.layers=[c.swipeLayers[c.layerNames[0]]],c.swipeWidget.enable()})}}]);
//# sourceMappingURL=build.js.map